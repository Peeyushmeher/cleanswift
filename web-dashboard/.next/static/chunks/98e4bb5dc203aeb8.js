(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,32687,e=>{"use strict";var t=e.i(84394),s=e.i(67589);function a({label:e,options:a,value:l,onChange:r,multiple:i=!1,className:n=""}){let[o,d]=(0,s.useState)(!1),c=a.find(e=>e.value===l);return(0,t.jsxs)("div",{className:`relative ${n}`,children:[(0,t.jsxs)("button",{onClick:()=>d(!o),className:"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-left text-white flex items-center justify-between hover:border-[#32CE7A]/40 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm",children:c?c.label:e}),(0,t.jsx)("svg",{className:`w-5 h-5 text-[#C6CFD9] transform transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,t.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-[#0A1A2F] border border-white/5 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:a.map(e=>(0,t.jsx)("button",{onClick:()=>{r(e.value),i||d(!1)},className:`
                  w-full px-4 py-2 text-left text-sm hover:bg-white/5 transition-colors
                  ${l===e.value?"bg-[#32CE7A]/20 text-[#32CE7A]":"text-white"}
                `,children:e.label},e.value))})]})]})}e.s(["default",()=>a])},91084,e=>{"use strict";var t=e.i(84394),s=e.i(67589),a=e.i(13028);let l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r=["January","February","March","April","May","June","July","August","September","October","November","December"];function i({bookings:e}){let[i,n]=(0,s.useState)(new Date),o=i.getMonth(),d=i.getFullYear(),c=new Date(d,o,1).getDay(),x=new Date(d,o+1,0).getDate(),m=(0,s.useMemo)(()=>{let t={};return e.forEach(e=>{let s=e.scheduled_date||(e.scheduled_start?new Date(e.scheduled_start).toISOString().split("T")[0]:"");s&&(t[s]||(t[s]=[]),t[s].push(e))}),t},[e]),h=(0,s.useMemo)(()=>{let e=[];for(let t=0;t<c;t++)e.push({day:0,isCurrentMonth:!1,isToday:!1});let t=new Date;for(let s=1;s<=x;s++){let a=s===t.getDate()&&o===t.getMonth()&&d===t.getFullYear();e.push({day:s,isCurrentMonth:!0,isToday:a})}let s=42-e.length;for(let t=0;t<s;t++)e.push({day:0,isCurrentMonth:!1,isToday:!1});return e},[c,x,o,d]);return(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>{n(new Date(d,o-1,1))},className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Previous month",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-[#C6CFD9]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,t.jsxs)("h3",{className:"text-xl font-semibold text-white",children:[r[o]," ",d]}),(0,t.jsx)("button",{onClick:()=>{n(new Date(d,o+1,1))},className:"p-2 hover:bg-white/5 rounded-lg transition-colors","aria-label":"Next month",children:(0,t.jsx)("svg",{className:"w-5 h-5 text-[#C6CFD9]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,t.jsx)("button",{onClick:()=>{n(new Date)},className:"px-4 py-2 bg-[#1DA4F3]/20 hover:bg-[#1DA4F3]/30 border border-[#1DA4F3]/40 text-[#1DA4F3] rounded-lg transition-colors text-sm font-medium",children:"Today"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-2",children:[l.map(e=>(0,t.jsx)("div",{className:"text-center text-sm font-semibold text-[#C6CFD9] py-2",children:e},e)),h.map(({day:e,isCurrentMonth:s,isToday:l},r)=>{let i=e>0&&m[new Date(d,o,e).toISOString().split("T")[0]]||[];return i.length,(0,t.jsx)("div",{className:`min-h-[100px] p-2 border border-white/5 rounded-lg ${s?"bg-[#050B12]":"bg-[#0A1A2F]/50 opacity-50"} ${l?"ring-2 ring-[#6FF0C4]/50":""}`,children:e>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`text-sm font-medium mb-1 ${l?"text-[#6FF0C4]":s?"text-white":"text-[#C6CFD9]"}`,children:e}),(0,t.jsxs)("div",{className:"space-y-1",children:[i.slice(0,2).map(e=>(0,t.jsxs)(a.default,{href:`/detailer/bookings/${e.id}`,className:`block text-xs p-1.5 rounded border ${(e=>{switch(e){case"accepted":return"bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]";case"in_progress":return"bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]";case"completed":return"bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]";default:return"bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]"}})(e.status)} hover:opacity-80 transition-opacity truncate`,title:`${e.service?.name||"Service"} - ${e.user?.full_name||"Customer"} at ${e.scheduled_time_start?.substring(0,5)||""}`,children:[(0,t.jsx)("div",{className:"font-medium truncate",children:e.scheduled_time_start?.substring(0,5)||""}),(0,t.jsx)("div",{className:"truncate",children:e.service?.name||"Service"})]},e.id)),i.length>2&&(0,t.jsxs)("div",{className:"text-xs text-[#C6CFD9] px-1.5 py-1",children:["+",i.length-2," more"]})]})]})},r)})]}),(0,t.jsxs)("div",{className:"mt-6 flex items-center gap-6 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-[#1DA4F3]/20 border border-[#1DA4F3]/40"}),(0,t.jsx)("span",{className:"text-[#C6CFD9]",children:"Accepted"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-[#6FF0C4]/20 border border-[#6FF0C4]/40"}),(0,t.jsx)("span",{className:"text-[#C6CFD9]",children:"In Progress"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded bg-[#32CE7A]/20 border border-[#32CE7A]/40"}),(0,t.jsx)("span",{className:"text-[#C6CFD9]",children:"Completed"})]})]})]})}e.s(["default",()=>i])},71838,e=>{"use strict";var t=e.i(84394),s=e.i(67589),a=e.i(13028),l=e.i(91084),r=e.i(32687);function i({bookings:e,mode:i,teams:n,detailers:o,availabilitySlots:d}){let[c,x]=(0,s.useState)("organization"===i?"organization":"personal"),[m,h]=(0,s.useState)("all"),[u,b]=(0,s.useState)("all"),g=e.filter(e=>"team"===c&&"all"!==m?e.team_id===m:"organization"!==c||"all"===u||e.detailer_id===u);return(0,t.jsxs)("div",{className:"space-y-6",children:["organization"===i&&(0,t.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4 flex-wrap",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-white",children:"View:"}),(0,t.jsx)("button",{onClick:()=>x("personal"),className:`px-4 py-2 rounded-lg transition-colors ${"personal"===c?"bg-[#32CE7A] text-white":"bg-[#050B12] text-[#C6CFD9] hover:text-white"}`,children:"Personal"}),(0,t.jsx)("button",{onClick:()=>x("team"),className:`px-4 py-2 rounded-lg transition-colors ${"team"===c?"bg-[#32CE7A] text-white":"bg-[#050B12] text-[#C6CFD9] hover:text-white"}`,children:"Team"}),(0,t.jsx)("button",{onClick:()=>x("organization"),className:`px-4 py-2 rounded-lg transition-colors ${"organization"===c?"bg-[#32CE7A] text-white":"bg-[#050B12] text-[#C6CFD9] hover:text-white"}`,children:"Organization"}),"team"===c&&n.length>0&&(0,t.jsx)(r.default,{label:"Team",options:[{value:"all",label:"All Teams"},...n.map(e=>({value:e.id,label:e.name}))],value:m,onChange:h}),"organization"===c&&o.length>0&&(0,t.jsx)(r.default,{label:"Detailer",options:[{value:"all",label:"All Detailers"},...o.map(e=>({value:e.profile_id,label:e.full_name}))],value:u,onChange:b})]})}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6 mb-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white",children:"personal"===c?"Personal Calendar":"team"===c?"Team Calendar":"Organization Calendar"}),"personal"===c&&(0,t.jsx)(a.default,{href:"/detailer/availability",className:"text-sm text-[#32CE7A] hover:text-[#6FF0C4] font-medium",children:"Manage Availability →"})]}),(0,t.jsx)(l.default,{bookings:g})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"personal"===c?"Upcoming Bookings":"All Bookings"}),0===g.length?(0,t.jsx)("p",{className:"text-[#C6CFD9]",children:"No bookings found"}):(0,t.jsx)("div",{className:"space-y-4",children:g.slice(0,10).map(e=>(0,t.jsx)(a.default,{href:`/detailer/bookings/${e.id}`,className:"block bg-[#050B12] border border-white/5 rounded-lg p-4 hover:border-[#6FF0C4]/20 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-semibold text-white",children:[e.car?.make," ",e.car?.model," ",e.car?.year]}),(0,t.jsxs)("div",{className:"text-sm text-[#C6CFD9] mt-1",children:[e.service?.name," - ",e.user?.full_name,"organization"===i&&e.detailer&&(0,t.jsxs)("span",{className:"ml-2 text-[#32CE7A]",children:["• ",e.detailer.full_name]}),"organization"===i&&e.team&&(0,t.jsxs)("span",{className:"ml-2 text-[#6FF0C4]",children:["• ",e.team.name]})]}),(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mt-1",children:e.scheduled_date&&e.scheduled_time_start?`${new Date(e.scheduled_date).toLocaleDateString()} at ${e.scheduled_time_start.substring(0,5)}`:e.scheduled_start?new Date(e.scheduled_start).toLocaleString():"Date TBD"}),e.address_line1&&(0,t.jsxs)("div",{className:"text-xs text-[#C6CFD9] mt-1",children:[e.address_line1,", ",e.city]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-white font-semibold",children:["$",e.service?.price||e.total_amount||0]}),(0,t.jsx)("div",{className:"text-xs text-[#C6CFD9] mt-1 capitalize",children:e.status})]})]})},e.id))})]})]})}e.s(["default",()=>i])}]);