(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50067,(e,r,s)=>{r.exports=e.r(37895)},45616,e=>{"use strict";var r=e.i(84394),s=e.i(67589),t=e.i(50067),a=e.i(76708);function l(){let[e,l]=(0,s.useState)(""),[i,d]=(0,s.useState)(""),[n,o]=(0,s.useState)(!1),[c,u]=(0,s.useState)(null),m=(0,t.useRouter)(),h=(0,a.createClient)(),p=async r=>{r.preventDefault(),o(!0),u(null);try{let{data:r,error:s}=await h.auth.signInWithPassword({email:e,password:i});if(s){u(s.message),o(!1);return}if(r.user){let{data:e}=await h.from("profiles").select("role").eq("id",r.user.id).single();e?"admin"===e.role?m.push("/admin/dashboard"):"detailer"===e.role?m.push("/detailer/dashboard"):(u("Access denied. This dashboard is for detailers and admins only."),await h.auth.signOut()):(u("User profile not found."),await h.auth.signOut())}}catch(e){u(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-[#050B12] px-4",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"bg-[#0A1A2F] rounded-2xl border border-white/5 p-8 shadow-xl",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"CleanSwift"}),(0,r.jsx)("p",{className:"text-[#C6CFD9]",children:"Detailer & Admin Dashboard"})]}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[c&&(0,r.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg text-sm",children:c}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-[#C6CFD9] mb-2",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>l(e.target.value),required:!0,suppressHydrationWarning:!0,className:"w-full px-4 py-3 bg-[#050B12] border border-white/10 rounded-lg text-white placeholder-[#6B7280] focus:outline-none focus:ring-2 focus:ring-[#6FF0C4] focus:border-transparent",placeholder:"you@example.com"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-[#C6CFD9] mb-2",children:"Password"}),(0,r.jsx)("input",{id:"password",type:"password",value:i,onChange:e=>d(e.target.value),required:!0,suppressHydrationWarning:!0,className:"w-full px-4 py-3 bg-[#050B12] border border-white/10 rounded-lg text-white placeholder-[#6B7280] focus:outline-none focus:ring-2 focus:ring-[#6FF0C4] focus:border-transparent",placeholder:"••••••••"})]}),(0,r.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-[#32CE7A] hover:bg-[#2AB869] disabled:opacity-50 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded-lg transition-colors",children:n?"Signing in...":"Sign In"})]})]})})})}e.s(["default",()=>l])}]);