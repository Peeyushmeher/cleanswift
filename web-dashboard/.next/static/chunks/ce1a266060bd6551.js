(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7801,(e,r,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={callServer:function(){return a.callServer},createServerReference:function(){return d.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}};for(var i in s)Object.defineProperty(t,i,{enumerable:!0,get:s[i]});let a=e.r(31738),l=e.r(88410),d=e.r(61631)},18451,66040,63932,34147,e=>{"use strict";var r=e.i(7801),t=(0,r.createServerReference)("70441f92eace9f5c95172795179a39e8de3e56cc9c",r.callServer,void 0,r.findSourceMapURL,"updateMemberRole");e.s(["updateMemberRole",()=>t],18451);var s=(0,r.createServerReference)("60cbe5e04c6b41e452e03d4194f480e00fc61fb53d",r.callServer,void 0,r.findSourceMapURL,"suspendMember");e.s(["suspendMember",()=>s],66040);var i=(0,r.createServerReference)("60130a1205b9140401be37ca750477dc5af6567516",r.callServer,void 0,r.findSourceMapURL,"activateMember");e.s(["activateMember",()=>i],63932);var a=(0,r.createServerReference)("60aa0c9c4e959f5cdd05e33b980a52df99e7636d8e",r.callServer,void 0,r.findSourceMapURL,"removeMember");e.s(["removeMember",()=>a],34147)},54764,e=>{"use strict";var r,t=e.i(84394),s=e.i(67589),i=e.i(50067),a=e.i(13028),l=e.i(18451),d=e.i(66040),c=e.i(63932),n=e.i(34147);function o({member:e,teams:r,earnings:o,completedJobs:m,rating:x,reviewCount:b,organizationId:h,currentUserRole:v}){let[u,p]=(0,s.useState)(!1),f=(0,i.useRouter)(),j=!!v&&"owner"===v,g=!!v&&("owner"===v||"manager"===v),w=async r=>{if(confirm(`Are you sure you want to change this member's role to ${r}?`)){p(!0);try{await (0,l.updateMemberRole)(h,e.profile_id,r),f.refresh()}catch(e){alert(e.message||"Failed to update role")}finally{p(!1)}}},N=async()=>{if(confirm("Are you sure you want to suspend this member?")){p(!0);try{await (0,d.suspendMember)(h,e.profile_id),f.refresh()}catch(e){alert(e.message||"Failed to suspend member")}finally{p(!1)}}},y=async()=>{p(!0);try{await (0,c.activateMember)(h,e.profile_id),f.refresh()}catch(e){alert(e.message||"Failed to activate member")}finally{p(!1)}},C=async()=>{if(confirm("Are you sure you want to remove this member from the organization?")){p(!0);try{await (0,n.removeMember)(h,e.profile_id),f.push("/detailer/members")}catch(e){alert(e.message||"Failed to remove member")}finally{p(!1)}}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.default,{href:"/detailer/members",className:"text-[#6FF0C4] hover:text-[#32CE7A] mb-4 inline-block",children:"← Back to Members"}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white",children:e.full_name}),(0,t.jsx)("p",{className:"text-[#C6CFD9] mt-1",children:e.email})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium border ${(e=>{switch(e){case"owner":return"bg-purple-500/20 text-purple-400 border-purple-500/40";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/40";case"dispatcher":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/40";case"detailer":return"bg-[#32CE7A]/20 text-[#32CE7A] border-[#32CE7A]/40";default:return"bg-gray-500/20 text-gray-400 border-gray-500/40"}})(e.role)}`,children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),(0,t.jsx)("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${e.is_active?"bg-[#32CE7A]/20 text-[#32CE7A]":"bg-red-500/20 text-red-400"}`,children:e.is_active?"Active":"Inactive"})]})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Member Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Email"}),(0,t.jsx)("div",{className:"text-white",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Role"}),(0,t.jsx)("div",{className:"text-white capitalize",children:e.role})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Status"}),(0,t.jsx)("div",{className:"text-white",children:e.is_active?"Active":"Inactive"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Joined"}),(0,t.jsx)("div",{className:"text-white",children:new Date(e.created_at).toLocaleDateString()})]})]})]}),r.length>0&&(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Teams"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)(a.default,{href:`/detailer/teams/${e.id}`,className:"px-3 py-1 bg-[#32CE7A]/20 text-[#32CE7A] rounded-lg hover:bg-[#32CE7A]/30 transition-colors",children:e.name},e.id))})]}),o&&(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Performance"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Total Earnings"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-[#32CE7A]",children:["$",o.total.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Completed Jobs"}),(0,t.jsx)("div",{className:"text-2xl font-bold text-white",children:o.completedJobs})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Rating"}),(0,t.jsxs)("div",{className:"text-2xl font-bold text-white",children:["⭐ ",x.toFixed(1)," (",b," reviews)"]})]})]})]}),m.length>0&&(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Completed Jobs"}),(0,t.jsx)("div",{className:"space-y-2",children:m.map(e=>(0,t.jsx)(a.default,{href:`/detailer/bookings/${e.id}`,className:"block p-3 bg-[#050B12] border border-white/5 rounded-lg hover:border-[#32CE7A]/40 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-white",children:e.receipt_id}),(0,t.jsx)("div",{className:"text-sm text-[#C6CFD9]",children:e.service?.name})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-white font-semibold",children:["$",e.total_amount||0]}),(0,t.jsx)("div",{className:"text-xs text-[#C6CFD9]",children:new Date(e.completed_at).toLocaleDateString()})]})]})},e.id))})]}),(j||g)&&(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Actions"}),(0,t.jsxs)("div",{className:"space-y-3",children:[j&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Change Role"}),(0,t.jsxs)("select",{value:e.role,onChange:e=>w(e.target.value),disabled:u,className:"w-full md:w-auto px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40 disabled:opacity-50",children:[(0,t.jsx)("option",{value:"detailer",children:"Detailer"}),(0,t.jsx)("option",{value:"dispatcher",children:"Dispatcher"}),(0,t.jsx)("option",{value:"manager",children:"Manager"}),(0,t.jsx)("option",{value:"owner",children:"Owner"})]})]}),g&&(0,t.jsxs)("div",{className:"flex gap-3",children:[e.is_active?(0,t.jsx)("button",{onClick:N,disabled:u,className:"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Suspend Member"}):(0,t.jsx)("button",{onClick:y,disabled:u,className:"px-4 py-2 bg-[#32CE7A] hover:bg-[#2AB869] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Activate Member"}),(0,t.jsx)("button",{onClick:C,disabled:u,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Remove from Organization"})]})]})]})]})}(r={}).Owner="owner",r.Manager="manager",r.Dispatcher="dispatcher",r.Detailer="detailer",e.s(["default",()=>o],54764)}]);