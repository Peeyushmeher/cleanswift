(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41381,e=>{"use strict";function t(e){let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function s(e,t="short"){let r="string"==typeof e?new Date(e):e;return"time"===t?r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"long"===t?r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function r(e){switch(e){case"accepted":return"bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]";case"in_progress":return"bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]";case"completed":return"bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]";case"cancelled":case"no_show":return"bg-red-500/20 border-red-500/40 text-red-400";case"paid":case"offered":return"bg-yellow-500/20 border-yellow-500/40 text-yellow-400";default:return"bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]"}}function a(e){switch(e){case"paid":return"text-[#32CE7A]";case"processing":return"text-yellow-400";case"failed":case"refunded":return"text-red-400";default:return"text-[#C6CFD9]"}}function l(e,t){if("all"===t)return e;let s=new Date,r=new Date(s.getFullYear(),s.getMonth(),s.getDate());return e.filter(e=>{let s=e.scheduled_date?new Date(e.scheduled_date):e.scheduled_start?new Date(e.scheduled_start):null;if(!s)return!1;let a=new Date(s.getFullYear(),s.getMonth(),s.getDate());switch(t){case"today":return a.getTime()===r.getTime();case"tomorrow":let l=new Date(r);return l.setDate(l.getDate()+1),a.getTime()===l.getTime();case"this_week":let d=new Date(r);d.setDate(r.getDate()-r.getDay());let i=new Date(d);return i.setDate(d.getDate()+6),s>=d&&s<=i;case"this_month":return s.getMonth()===r.getMonth()&&s.getFullYear()===r.getFullYear();default:return!0}})}function d(e,t){let s=[...e];switch(t){case"time":return s.sort((e,t)=>{let s=e.scheduled_date||e.scheduled_start||"",r=t.scheduled_date||t.scheduled_start||"";return new Date(s).getTime()-new Date(r).getTime()});case"price":return s.sort((e,t)=>{let s=e.total_amount||e.service_price||0;return(t.total_amount||t.service_price||0)-s});case"distance":case"rating":default:return s;case"assignment":return s.sort((e,t)=>{let s=new Date(e.created_at||0).getTime();return new Date(t.created_at||0).getTime()-s})}}e.s(["filterBookingsByDateRange",()=>l,"formatCurrency",()=>t,"formatDate",()=>s,"getPaymentStatusColor",()=>a,"getStatusColor",()=>r,"sortBookings",()=>d])},59949,e=>{"use strict";var t=e.i(84394);function s({data:e,period:s}){if(0===e.length)return(0,t.jsx)("div",{className:"h-64 flex items-center justify-center text-[#C6CFD9]",children:"No earnings data available"});let r=Math.max(...e.map(e=>e.amount),0);return(0,t.jsxs)("div",{className:"h-64 relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-end justify-between gap-1",children:e.map((e,s)=>{let a=r>0?e.amount/r*100:0;return(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-full bg-[#32CE7A] rounded-t transition-all hover:bg-[#6FF0C4] relative group",style:{height:`${a}%`},children:(0,t.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-[#0A1A2F] border border-white/5 rounded text-xs text-white opacity-0 group-hover:opacity-100 whitespace-nowrap",children:["$",e.amount.toFixed(2)]})}),(0,t.jsx)("div",{className:"text-xs text-[#C6CFD9] transform -rotate-45 origin-left whitespace-nowrap",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},s)})}),(0,t.jsxs)("div",{className:"absolute left-0 top-0 bottom-8 flex flex-col justify-between text-xs text-[#C6CFD9]",children:[(0,t.jsxs)("span",{children:["$",r.toFixed(0)]}),(0,t.jsxs)("span",{children:["$",Math.floor(r/2).toFixed(0)]}),(0,t.jsx)("span",{children:"$0"})]})]})}e.s(["default",()=>s])},39564,e=>{"use strict";var t=e.i(84394),s=e.i(67589),r=e.i(41381),a=e.i(59949);function l({grossRevenue:e,netRevenue:s,platformFee:a,totalJobs:l}){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Gross Revenue"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:(0,r.formatCurrency)(e)})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Net Revenue"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-[#32CE7A]",children:(0,r.formatCurrency)(s)})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Platform Fee"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(0,r.formatCurrency)(a)})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Total Jobs"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-white",children:l})]})]})}function d({teams:e}){return 0===e.length?(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Earnings Breakdown"}),(0,t.jsx)("p",{className:"text-[#C6CFD9]",children:"No team earnings data available"})]}):(e.reduce((e,t)=>e+(t.revenue/t.jobs||0),0),e.length,(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Earnings Breakdown"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/5",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Team"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Jobs"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Revenue"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Average"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white font-medium",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.jobs}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,r.formatCurrency)(e.revenue)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,r.formatCurrency)(e.jobs>0?e.revenue/e.jobs:0)})]},s))})]})})]}))}function i({batches:e}){return 0===e.length?(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Payout Batches"}),(0,t.jsx)("p",{className:"text-[#C6CFD9]",children:"No payout batches yet"})]}):(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Payout Batches"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/5",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Jobs"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Amount"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,r.formatDate)(e.batch_date,"short")}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.total_jobs}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,r.formatCurrency)(e.total_amount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.stripe_payout_id?"bg-[#32CE7A]/20 text-[#32CE7A]":"bg-yellow-500/20 text-yellow-400"}`,children:e.stripe_payout_id?"Paid":"Pending"})})]},e.id))})]})})]})}function n({earningsData:e,totalEarnings:n,pendingPayouts:c,mode:o="solo",orgEarnings:x,teamEarnings:m=[],payoutBatches:h=[]}){let[u,p]=(0,s.useState)("day"),b=e.slice(0,7).map(e=>({date:e.completed_at||e.scheduled_date||e.created_at,amount:e.total_amount||e.service_price||0})),f="organization"===o&&x;return(0,t.jsxs)("div",{className:"space-y-6",children:[f?(0,t.jsx)(l,{grossRevenue:x.grossRevenue,netRevenue:x.netRevenue,platformFee:x.platformFee,totalJobs:x.totalJobs}):(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Total Earnings"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-[#32CE7A]",children:(0,r.formatCurrency)(n)})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Pending Payouts"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(0,r.formatCurrency)(c)})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Next Payout"}),(0,t.jsx)("div",{className:"text-lg font-semibold text-[#C6CFD9]",children:"TBD (Stripe Connect)"})]})]}),f&&m.length>0&&(0,t.jsx)(d,{teams:m}),f&&h.length>0&&(0,t.jsx)(i,{batches:h}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Earnings Overview"}),(0,t.jsx)(a.default,{data:b,period:u})]}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Earnings Breakdown"}),(0,t.jsxs)("div",{className:"overflow-x-auto",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-white/5",children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Job ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Service"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Customer"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Amount"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Payout"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-white/5",children:e.map(e=>{let s=e.total_amount||e.service_price||0;return(0,t.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,r.formatDate)(e.completed_at||e.scheduled_date,"short")}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-[#C6CFD9] font-mono",children:e.receipt_id}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.service?.name||"N/A"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:e.user?.full_name||"N/A"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,r.formatCurrency)(s)}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,r.formatCurrency)(.9*s)})]},e.id)})})]}),0===e.length&&(0,t.jsx)("div",{className:"text-center py-12 text-[#C6CFD9]",children:"No earnings yet"})]})]})]})}e.s(["default",()=>n],39564)}]);