(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41381,e=>{"use strict";function t(e){let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(t)}function a(e,t="short"){let r="string"==typeof e?new Date(e):e;return"time"===t?r.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"long"===t?r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function r(e){switch(e){case"accepted":return"bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]";case"in_progress":return"bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]";case"completed":return"bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]";case"cancelled":case"no_show":return"bg-red-500/20 border-red-500/40 text-red-400";case"paid":case"offered":return"bg-yellow-500/20 border-yellow-500/40 text-yellow-400";default:return"bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]"}}function l(e){switch(e){case"paid":return"text-[#32CE7A]";case"processing":return"text-yellow-400";case"failed":case"refunded":return"text-red-400";default:return"text-[#C6CFD9]"}}function s(e,t){if("all"===t)return e;let a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate());return e.filter(e=>{let a=e.scheduled_date?new Date(e.scheduled_date):e.scheduled_start?new Date(e.scheduled_start):null;if(!a)return!1;let l=new Date(a.getFullYear(),a.getMonth(),a.getDate());switch(t){case"today":return l.getTime()===r.getTime();case"tomorrow":let s=new Date(r);return s.setDate(s.getDate()+1),l.getTime()===s.getTime();case"this_week":let n=new Date(r);n.setDate(r.getDate()-r.getDay());let i=new Date(n);return i.setDate(n.getDate()+6),a>=n&&a<=i;case"this_month":return a.getMonth()===r.getMonth()&&a.getFullYear()===r.getFullYear();default:return!0}})}function n(e,t){let a=[...e];switch(t){case"time":return a.sort((e,t)=>{let a=e.scheduled_date||e.scheduled_start||"",r=t.scheduled_date||t.scheduled_start||"";return new Date(a).getTime()-new Date(r).getTime()});case"price":return a.sort((e,t)=>{let a=e.total_amount||e.service_price||0;return(t.total_amount||t.service_price||0)-a});case"distance":case"rating":default:return a;case"assignment":return a.sort((e,t)=>{let a=new Date(e.created_at||0).getTime();return new Date(t.created_at||0).getTime()-a})}}e.s(["filterBookingsByDateRange",()=>s,"formatCurrency",()=>t,"formatDate",()=>a,"getPaymentStatusColor",()=>l,"getStatusColor",()=>r,"sortBookings",()=>n])},32687,e=>{"use strict";var t=e.i(84394),a=e.i(67589);function r({label:e,options:r,value:l,onChange:s,multiple:n=!1,className:i=""}){let[o,d]=(0,a.useState)(!1),c=r.find(e=>e.value===l);return(0,t.jsxs)("div",{className:`relative ${i}`,children:[(0,t.jsxs)("button",{onClick:()=>d(!o),className:"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-left text-white flex items-center justify-between hover:border-[#32CE7A]/40 transition-colors",children:[(0,t.jsx)("span",{className:"text-sm",children:c?c.label:e}),(0,t.jsx)("svg",{className:`w-5 h-5 text-[#C6CFD9] transform transition-transform ${o?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>d(!1)}),(0,t.jsx)("div",{className:"absolute z-20 w-full mt-2 bg-[#0A1A2F] border border-white/5 rounded-lg shadow-xl max-h-60 overflow-y-auto",children:r.map(e=>(0,t.jsx)("button",{onClick:()=>{s(e.value),n||d(!1)},className:`
                  w-full px-4 py-2 text-left text-sm hover:bg-white/5 transition-colors
                  ${l===e.value?"bg-[#32CE7A]/20 text-[#32CE7A]":"text-white"}
                `,children:e.label},e.value))})]})]})}e.s(["default",()=>r])},8305,e=>{"use strict";var t=e.i(84394),a=e.i(67589),r=e.i(13028),l=e.i(41381),s=e.i(32687);let n=[{value:"all",label:"All Ratings"},{value:"5",label:"5 Stars"},{value:"4",label:"4 Stars"},{value:"3",label:"3 Stars"},{value:"2",label:"2 Stars"},{value:"1",label:"1 Star"}];function i({initialReviews:e,mode:i="solo",orgRating:o=0,detailers:d=[],teams:c=[]}){let[u,m]=(0,a.useState)("all"),[g,h]=(0,a.useState)("date"),[x,b]=(0,a.useState)("all"),[f,v]=(0,a.useState)("all"),w=e.filter(e=>("all"===u||e.rating===parseInt(u))&&("organization"===i&&"all"!==x?!!e.booking?.detailer_id:"organization"!==i||"all"===f||e.booking?.team_id===f)).sort((e,t)=>"rating"===g?t.rating-e.rating:new Date(t.created_at).getTime()-new Date(e.created_at).getTime()),p="organization"===i&&o>0?o:e.length>0?e.reduce((e,t)=>e+t.rating,0)/e.length:0;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-white mb-2",children:[p.toFixed(1)," ⭐"]}),(0,t.jsxs)("p",{className:"text-[#C6CFD9]",children:["Based on ",e.length," review",1!==e.length?"s":""]})]}),(0,t.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,t.jsx)(s.default,{label:"Filter by Rating",options:n,value:u,onChange:m}),"organization"===i&&d.length>0&&(0,t.jsx)(s.default,{label:"Detailer",options:[{value:"all",label:"All Detailers"},...d.map(e=>({value:e.profile_id,label:e.full_name}))],value:x,onChange:b}),"organization"===i&&c.length>0&&(0,t.jsx)(s.default,{label:"Team",options:[{value:"all",label:"All Teams"},...c.map(e=>({value:e.id,label:e.name}))],value:f,onChange:v}),(0,t.jsx)(s.default,{label:"Sort By",options:[{value:"date",label:"Newest First"},{value:"rating",label:"Highest Rated"}],value:g,onChange:e=>h(e)})]})]})}),(0,t.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"All Reviews"}),(0,t.jsx)("div",{className:"space-y-4",children:0===w.length?(0,t.jsx)("div",{className:"text-center py-12 text-[#C6CFD9]",children:"No reviews found"}):w.map(e=>(0,t.jsx)(r.default,{href:`/detailer/reviews/${e.id}`,className:"block bg-[#050B12] border border-white/5 rounded-lg p-6 hover:border-[#6FF0C4]/20 transition-colors",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((a,r)=>(0,t.jsx)("span",{className:`text-xl ${r<e.rating?"text-yellow-400":"text-[#C6CFD9]"}`,children:"★"},r))}),(0,t.jsx)("span",{className:"text-sm text-[#C6CFD9]",children:e.user?.full_name||"Anonymous"})]}),e.review_text&&(0,t.jsx)("p",{className:"text-white mb-2",children:e.review_text}),(0,t.jsxs)("div",{className:"text-sm text-[#C6CFD9]",children:[e.booking?.service?.name&&(0,t.jsxs)("span",{children:["Service: ",e.booking.service.name," • "]}),"organization"===i&&e.booking?.detailer&&(0,t.jsxs)("span",{children:["Detailer: ",e.booking.detailer.full_name," • "]}),"organization"===i&&e.booking?.team&&(0,t.jsxs)("span",{children:["Team: ",e.booking.team.name," • "]}),(0,l.formatDate)(e.created_at,"long")]})]}),(0,t.jsxs)("div",{className:"text-sm text-[#C6CFD9]",children:["Job #",e.booking?.receipt_id||"N/A"]})]})},e.id))})]})]})}e.s(["default",()=>i])}]);