{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/app/detailer/dashboard/CalendarView.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport Link from 'next/link';\n\ninterface Booking {\n  id: string;\n  receipt_id: string;\n  status: string;\n  scheduled_date: string;\n  scheduled_time_start: string;\n  scheduled_time_end?: string | null;\n  scheduled_start?: string;\n  service?: {\n    name: string;\n    price: number;\n  };\n  car?: {\n    make: string;\n    model: string;\n    year: string;\n  };\n  user?: {\n    full_name: string;\n  };\n}\n\ninterface CalendarViewProps {\n  bookings: Booking[];\n}\n\nconst DAY_NAMES = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst MONTH_NAMES = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nexport default function CalendarView({ bookings }: CalendarViewProps) {\n  const [currentDate, setCurrentDate] = useState(new Date());\n\n  const currentMonth = currentDate.getMonth();\n  const currentYear = currentDate.getFullYear();\n\n  // Get first day of month and number of days\n  const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();\n  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n\n  // Navigate months\n  const goToPreviousMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth - 1, 1));\n  };\n\n  const goToNextMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth + 1, 1));\n  };\n\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Group bookings by date\n  const bookingsByDate = useMemo(() => {\n    const grouped: Record<string, Booking[]> = {};\n    bookings.forEach((booking) => {\n      const dateKey = booking.scheduled_date || \n        (booking.scheduled_start ? new Date(booking.scheduled_start).toISOString().split('T')[0] : '');\n      if (dateKey) {\n        if (!grouped[dateKey]) {\n          grouped[dateKey] = [];\n        }\n        grouped[dateKey].push(booking);\n      }\n    });\n    return grouped;\n  }, [bookings]);\n\n  // Get bookings for a specific date\n  const getBookingsForDate = (day: number): Booking[] => {\n    const date = new Date(currentYear, currentMonth, day);\n    const dateKey = date.toISOString().split('T')[0];\n    return bookingsByDate[dateKey] || [];\n  };\n\n  // Get status color\n  const getStatusColor = (status: string): string => {\n    switch (status) {\n      case 'accepted':\n        return 'bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]';\n      case 'in_progress':\n        return 'bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]';\n      case 'completed':\n        return 'bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]';\n      default:\n        return 'bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]';\n    }\n  };\n\n  // Generate calendar days\n  const calendarDays = useMemo(() => {\n    const days: Array<{ day: number; isCurrentMonth: boolean; isToday: boolean }> = [];\n\n    // Add empty cells for days before month starts\n    for (let i = 0; i < firstDayOfMonth; i++) {\n      days.push({ day: 0, isCurrentMonth: false, isToday: false });\n    }\n\n    // Add days of the month\n    const today = new Date();\n    for (let day = 1; day <= daysInMonth; day++) {\n      const isToday =\n        day === today.getDate() &&\n        currentMonth === today.getMonth() &&\n        currentYear === today.getFullYear();\n      days.push({ day, isCurrentMonth: true, isToday });\n    }\n\n    // Fill remaining cells to complete 6 weeks (42 cells total)\n    const totalCells = 42;\n    const remainingCells = totalCells - days.length;\n    for (let i = 0; i < remainingCells; i++) {\n      days.push({ day: 0, isCurrentMonth: false, isToday: false });\n    }\n\n    return days;\n  }, [firstDayOfMonth, daysInMonth, currentMonth, currentYear]);\n\n  return (\n    <div className=\"w-full\">\n      {/* Calendar Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={goToPreviousMonth}\n            className=\"p-2 hover:bg-white/5 rounded-lg transition-colors\"\n            aria-label=\"Previous month\"\n          >\n            <svg\n              className=\"w-5 h-5 text-[#C6CFD9]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n          </button>\n          <h3 className=\"text-xl font-semibold text-white\">\n            {MONTH_NAMES[currentMonth]} {currentYear}\n          </h3>\n          <button\n            onClick={goToNextMonth}\n            className=\"p-2 hover:bg-white/5 rounded-lg transition-colors\"\n            aria-label=\"Next month\"\n          >\n            <svg\n              className=\"w-5 h-5 text-[#C6CFD9]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 5l7 7-7 7\"\n              />\n            </svg>\n          </button>\n        </div>\n        <button\n          onClick={goToToday}\n          className=\"px-4 py-2 bg-[#1DA4F3]/20 hover:bg-[#1DA4F3]/30 border border-[#1DA4F3]/40 text-[#1DA4F3] rounded-lg transition-colors text-sm font-medium\"\n        >\n          Today\n        </button>\n      </div>\n\n      {/* Calendar Grid */}\n      <div className=\"grid grid-cols-7 gap-2\">\n        {/* Day headers */}\n        {DAY_NAMES.map((day) => (\n          <div\n            key={day}\n            className=\"text-center text-sm font-semibold text-[#C6CFD9] py-2\"\n          >\n            {day}\n          </div>\n        ))}\n\n        {/* Calendar days */}\n        {calendarDays.map(({ day, isCurrentMonth, isToday }, index) => {\n          const bookingsForDay = day > 0 ? getBookingsForDate(day) : [];\n          const hasBookings = bookingsForDay.length > 0;\n\n          return (\n            <div\n              key={index}\n              className={`min-h-[100px] p-2 border border-white/5 rounded-lg ${\n                isCurrentMonth ? 'bg-[#050B12]' : 'bg-[#0A1A2F]/50 opacity-50'\n              } ${isToday ? 'ring-2 ring-[#6FF0C4]/50' : ''}`}\n            >\n              {day > 0 && (\n                <>\n                  <div\n                    className={`text-sm font-medium mb-1 ${\n                      isToday\n                        ? 'text-[#6FF0C4]'\n                        : isCurrentMonth\n                        ? 'text-white'\n                        : 'text-[#C6CFD9]'\n                    }`}\n                  >\n                    {day}\n                  </div>\n                  <div className=\"space-y-1\">\n                    {bookingsForDay.slice(0, 2).map((booking) => (\n                      <Link\n                        key={booking.id}\n                        href={`/detailer/bookings/${booking.id}`}\n                        className={`block text-xs p-1.5 rounded border ${getStatusColor(\n                          booking.status\n                        )} hover:opacity-80 transition-opacity truncate`}\n                        title={`${booking.service?.name || 'Service'} - ${booking.user?.full_name || 'Customer'} at ${booking.scheduled_time_start?.substring(0, 5) || ''}`}\n                      >\n                        <div className=\"font-medium truncate\">\n                          {booking.scheduled_time_start?.substring(0, 5) || ''}\n                        </div>\n                        <div className=\"truncate\">\n                          {booking.service?.name || 'Service'}\n                        </div>\n                      </Link>\n                    ))}\n                    {bookingsForDay.length > 2 && (\n                      <div className=\"text-xs text-[#C6CFD9] px-1.5 py-1\">\n                        +{bookingsForDay.length - 2} more\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"mt-6 flex items-center gap-6 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#1DA4F3]/20 border border-[#1DA4F3]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">Accepted</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#6FF0C4]/20 border border-[#6FF0C4]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">In Progress</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#32CE7A]/20 border border-[#32CE7A]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">Completed</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AA+BA,MAAM,YAAY;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM;AACnE,MAAM,cAAc;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEc,SAAS,aAAa,EAAE,QAAQ,EAAqB;IAClE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,mPAAQ,EAAC,IAAI;IAEnD,MAAM,eAAe,YAAY,QAAQ;IACzC,MAAM,cAAc,YAAY,WAAW;IAE3C,4CAA4C;IAC5C,MAAM,kBAAkB,IAAI,KAAK,aAAa,cAAc,GAAG,MAAM;IACrE,MAAM,cAAc,IAAI,KAAK,aAAa,eAAe,GAAG,GAAG,OAAO;IAEtE,kBAAkB;IAClB,MAAM,oBAAoB;QACxB,eAAe,IAAI,KAAK,aAAa,eAAe,GAAG;IACzD;IAEA,MAAM,gBAAgB;QACpB,eAAe,IAAI,KAAK,aAAa,eAAe,GAAG;IACzD;IAEA,MAAM,YAAY;QAChB,eAAe,IAAI;IACrB;IAEA,yBAAyB;IACzB,MAAM,iBAAiB,IAAA,kPAAO,EAAC;QAC7B,MAAM,UAAqC,CAAC;QAC5C,SAAS,OAAO,CAAC,CAAC;YAChB,MAAM,UAAU,QAAQ,cAAc,IACpC,CAAC,QAAQ,eAAe,GAAG,IAAI,KAAK,QAAQ,eAAe,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE;YAC/F,IAAI,SAAS;gBACX,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;oBACrB,OAAO,CAAC,QAAQ,GAAG,EAAE;gBACvB;gBACA,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC;YACxB;QACF;QACA,OAAO;IACT,GAAG;QAAC;KAAS;IAEb,mCAAmC;IACnC,MAAM,qBAAqB,CAAC;QAC1B,MAAM,OAAO,IAAI,KAAK,aAAa,cAAc;QACjD,MAAM,UAAU,KAAK,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;QAChD,OAAO,cAAc,CAAC,QAAQ,IAAI,EAAE;IACtC;IAEA,mBAAmB;IACnB,MAAM,iBAAiB,CAAC;QACtB,OAAQ;YACN,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO;QACX;IACF;IAEA,yBAAyB;IACzB,MAAM,eAAe,IAAA,kPAAO,EAAC;QAC3B,MAAM,OAA0E,EAAE;QAElF,+CAA+C;QAC/C,IAAK,IAAI,IAAI,GAAG,IAAI,iBAAiB,IAAK;YACxC,KAAK,IAAI,CAAC;gBAAE,KAAK;gBAAG,gBAAgB;gBAAO,SAAS;YAAM;QAC5D;QAEA,wBAAwB;QACxB,MAAM,QAAQ,IAAI;QAClB,IAAK,IAAI,MAAM,GAAG,OAAO,aAAa,MAAO;YAC3C,MAAM,UACJ,QAAQ,MAAM,OAAO,MACrB,iBAAiB,MAAM,QAAQ,MAC/B,gBAAgB,MAAM,WAAW;YACnC,KAAK,IAAI,CAAC;gBAAE;gBAAK,gBAAgB;gBAAM;YAAQ;QACjD;QAEA,4DAA4D;QAC5D,MAAM,aAAa;QACnB,MAAM,iBAAiB,aAAa,KAAK,MAAM;QAC/C,IAAK,IAAI,IAAI,GAAG,IAAI,gBAAgB,IAAK;YACvC,KAAK,IAAI,CAAC;gBAAE,KAAK;gBAAG,gBAAgB;gBAAO,SAAS;YAAM;QAC5D;QAEA,OAAO;IACT,GAAG;QAAC;QAAiB;QAAa;QAAc;KAAY;IAE5D,qBACE,gRAAC;QAAI,WAAU;;0BAEb,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,gRAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,gRAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;0CAIR,gRAAC;gCAAG,WAAU;;oCACX,WAAW,CAAC,aAAa;oCAAC;oCAAE;;;;;;;0CAE/B,gRAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,gRAAC;oCACC,WAAU;oCACV,MAAK;oCACL,QAAO;oCACP,SAAQ;8CAER,cAAA,gRAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;kCAKV,gRAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAMH,gRAAC;gBAAI,WAAU;;oBAEZ,UAAU,GAAG,CAAC,CAAC,oBACd,gRAAC;4BAEC,WAAU;sCAET;2BAHI;;;;;oBAQR,aAAa,GAAG,CAAC,CAAC,EAAE,GAAG,EAAE,cAAc,EAAE,OAAO,EAAE,EAAE;wBACnD,MAAM,iBAAiB,MAAM,IAAI,mBAAmB,OAAO,EAAE;wBAC7D,MAAM,cAAc,eAAe,MAAM,GAAG;wBAE5C,qBACE,gRAAC;4BAEC,WAAW,CAAC,mDAAmD,EAC7D,iBAAiB,iBAAiB,6BACnC,CAAC,EAAE,UAAU,6BAA6B,IAAI;sCAE9C,MAAM,mBACL;;kDACE,gRAAC;wCACC,WAAW,CAAC,yBAAyB,EACnC,UACI,mBACA,iBACA,eACA,kBACJ;kDAED;;;;;;kDAEH,gRAAC;wCAAI,WAAU;;4CACZ,eAAe,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,wBAC/B,gRAAC,yMAAI;oDAEH,MAAM,CAAC,mBAAmB,EAAE,QAAQ,EAAE,EAAE;oDACxC,WAAW,CAAC,mCAAmC,EAAE,eAC/C,QAAQ,MAAM,EACd,6CAA6C,CAAC;oDAChD,OAAO,GAAG,QAAQ,OAAO,EAAE,QAAQ,UAAU,GAAG,EAAE,QAAQ,IAAI,EAAE,aAAa,WAAW,IAAI,EAAE,QAAQ,oBAAoB,EAAE,UAAU,GAAG,MAAM,IAAI;;sEAEnJ,gRAAC;4DAAI,WAAU;sEACZ,QAAQ,oBAAoB,EAAE,UAAU,GAAG,MAAM;;;;;;sEAEpD,gRAAC;4DAAI,WAAU;sEACZ,QAAQ,OAAO,EAAE,QAAQ;;;;;;;mDAXvB,QAAQ,EAAE;;;;;4CAelB,eAAe,MAAM,GAAG,mBACvB,gRAAC;gDAAI,WAAU;;oDAAqC;oDAChD,eAAe,MAAM,GAAG;oDAAE;;;;;;;;;;;;;;;2BAtCjC;;;;;oBA8CX;;;;;;;0BAIF,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCAAI,WAAU;;;;;;0CACf,gRAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;kCAEnC,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCAAI,WAAU;;;;;;0CACf,gRAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;kCAEnC,gRAAC;wBAAI,WAAU;;0CACb,gRAAC;gCAAI,WAAU;;;;;;0CACf,gRAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;;;;;;;;;;;;;AAK3C"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/components/detailer/EarningsChart.tsx"],"sourcesContent":["'use client';\n\ninterface EarningsData {\n  date: string;\n  amount: number;\n}\n\ninterface EarningsChartProps {\n  data: EarningsData[];\n  period: 'day' | 'week' | 'month';\n}\n\nexport default function EarningsChart({ data, period }: EarningsChartProps) {\n  if (data.length === 0) {\n    return (\n      <div className=\"h-64 flex items-center justify-center text-[#C6CFD9]\">\n        No earnings data available\n      </div>\n    );\n  }\n\n  const maxAmount = Math.max(...data.map(d => d.amount), 0);\n\n  return (\n    <div className=\"h-64 relative\">\n      <div className=\"absolute inset-0 flex items-end justify-between gap-1\">\n        {data.map((item, index) => {\n          const height = maxAmount > 0 ? (item.amount / maxAmount) * 100 : 0;\n          return (\n            <div\n              key={index}\n              className=\"flex-1 flex flex-col items-center gap-1\"\n            >\n              <div\n                className=\"w-full bg-[#32CE7A] rounded-t transition-all hover:bg-[#6FF0C4] relative group\"\n                style={{ height: `${height}%` }}\n              >\n                <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-[#0A1A2F] border border-white/5 rounded text-xs text-white opacity-0 group-hover:opacity-100 whitespace-nowrap\">\n                  ${item.amount.toFixed(2)}\n                </div>\n              </div>\n              <div className=\"text-xs text-[#C6CFD9] transform -rotate-45 origin-left whitespace-nowrap\">\n                {new Date(item.date).toLocaleDateString('en-US', {\n                  month: 'short',\n                  day: 'numeric',\n                })}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      {/* Y-axis labels */}\n      <div className=\"absolute left-0 top-0 bottom-8 flex flex-col justify-between text-xs text-[#C6CFD9]\">\n        <span>${maxAmount.toFixed(0)}</span>\n        <span>${Math.floor(maxAmount / 2).toFixed(0)}</span>\n        <span>$0</span>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAAA;;AAYe,SAAS,cAAc,EAAE,IAAI,EAAE,MAAM,EAAsB;IACxE,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,gRAAC;YAAI,WAAU;sBAAuD;;;;;;IAI1E;IAEA,MAAM,YAAY,KAAK,GAAG,IAAI,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,MAAM,GAAG;IAEvD,qBACE,gRAAC;QAAI,WAAU;;0BACb,gRAAC;gBAAI,WAAU;0BACZ,KAAK,GAAG,CAAC,CAAC,MAAM;oBACf,MAAM,SAAS,YAAY,IAAI,AAAC,KAAK,MAAM,GAAG,YAAa,MAAM;oBACjE,qBACE,gRAAC;wBAEC,WAAU;;0CAEV,gRAAC;gCACC,WAAU;gCACV,OAAO;oCAAE,QAAQ,GAAG,OAAO,CAAC,CAAC;gCAAC;0CAE9B,cAAA,gRAAC;oCAAI,WAAU;;wCAA4L;wCACvM,KAAK,MAAM,CAAC,OAAO,CAAC;;;;;;;;;;;;0CAG1B,gRAAC;gCAAI,WAAU;0CACZ,IAAI,KAAK,KAAK,IAAI,EAAE,kBAAkB,CAAC,SAAS;oCAC/C,OAAO;oCACP,KAAK;gCACP;;;;;;;uBAfG;;;;;gBAmBX;;;;;;0BAGF,gRAAC;gBAAI,WAAU;;kCACb,gRAAC;;4BAAK;4BAAE,UAAU,OAAO,CAAC;;;;;;;kCAC1B,gRAAC;;4BAAK;4BAAE,KAAK,KAAK,CAAC,YAAY,GAAG,OAAO,CAAC;;;;;;;kCAC1C,gRAAC;kCAAK;;;;;;;;;;;;;;;;;;AAId"}}]
}