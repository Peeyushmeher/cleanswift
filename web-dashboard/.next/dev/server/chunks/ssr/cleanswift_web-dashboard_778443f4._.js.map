{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/app/detailer/dashboard/CalendarView.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport Link from 'next/link';\n\ninterface Booking {\n  id: string;\n  receipt_id: string;\n  status: string;\n  scheduled_date: string;\n  scheduled_time_start: string;\n  scheduled_time_end?: string | null;\n  scheduled_start?: string;\n  service?: {\n    name: string;\n    price: number;\n  };\n  car?: {\n    make: string;\n    model: string;\n    year: string;\n  };\n  user?: {\n    full_name: string;\n  };\n}\n\ninterface CalendarViewProps {\n  bookings: Booking[];\n}\n\nconst DAY_NAMES = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst MONTH_NAMES = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'October',\n  'November',\n  'December',\n];\n\nexport default function CalendarView({ bookings }: CalendarViewProps) {\n  const [currentDate, setCurrentDate] = useState(new Date());\n\n  const currentMonth = currentDate.getMonth();\n  const currentYear = currentDate.getFullYear();\n\n  // Get first day of month and number of days\n  const firstDayOfMonth = new Date(currentYear, currentMonth, 1).getDay();\n  const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();\n\n  // Navigate months\n  const goToPreviousMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth - 1, 1));\n  };\n\n  const goToNextMonth = () => {\n    setCurrentDate(new Date(currentYear, currentMonth + 1, 1));\n  };\n\n  const goToToday = () => {\n    setCurrentDate(new Date());\n  };\n\n  // Group bookings by date\n  const bookingsByDate = useMemo(() => {\n    const grouped: Record<string, Booking[]> = {};\n    bookings.forEach((booking) => {\n      const dateKey = booking.scheduled_date || \n        (booking.scheduled_start ? new Date(booking.scheduled_start).toISOString().split('T')[0] : '');\n      if (dateKey) {\n        if (!grouped[dateKey]) {\n          grouped[dateKey] = [];\n        }\n        grouped[dateKey].push(booking);\n      }\n    });\n    return grouped;\n  }, [bookings]);\n\n  // Get bookings for a specific date\n  const getBookingsForDate = (day: number): Booking[] => {\n    const date = new Date(currentYear, currentMonth, day);\n    const dateKey = date.toISOString().split('T')[0];\n    return bookingsByDate[dateKey] || [];\n  };\n\n  // Get status color\n  const getStatusColor = (status: string): string => {\n    switch (status) {\n      case 'accepted':\n        return 'bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]';\n      case 'in_progress':\n        return 'bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]';\n      case 'completed':\n        return 'bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]';\n      default:\n        return 'bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]';\n    }\n  };\n\n  // Generate calendar days\n  const calendarDays = useMemo(() => {\n    const days: Array<{ day: number; isCurrentMonth: boolean; isToday: boolean }> = [];\n\n    // Add empty cells for days before month starts\n    for (let i = 0; i < firstDayOfMonth; i++) {\n      days.push({ day: 0, isCurrentMonth: false, isToday: false });\n    }\n\n    // Add days of the month\n    const today = new Date();\n    for (let day = 1; day <= daysInMonth; day++) {\n      const isToday =\n        day === today.getDate() &&\n        currentMonth === today.getMonth() &&\n        currentYear === today.getFullYear();\n      days.push({ day, isCurrentMonth: true, isToday });\n    }\n\n    // Fill remaining cells to complete 6 weeks (42 cells total)\n    const totalCells = 42;\n    const remainingCells = totalCells - days.length;\n    for (let i = 0; i < remainingCells; i++) {\n      days.push({ day: 0, isCurrentMonth: false, isToday: false });\n    }\n\n    return days;\n  }, [firstDayOfMonth, daysInMonth, currentMonth, currentYear]);\n\n  return (\n    <div className=\"w-full\">\n      {/* Calendar Header */}\n      <div className=\"flex items-center justify-between mb-6\">\n        <div className=\"flex items-center gap-4\">\n          <button\n            onClick={goToPreviousMonth}\n            className=\"p-2 hover:bg-white/5 rounded-lg transition-colors\"\n            aria-label=\"Previous month\"\n          >\n            <svg\n              className=\"w-5 h-5 text-[#C6CFD9]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 19l-7-7 7-7\"\n              />\n            </svg>\n          </button>\n          <h3 className=\"text-xl font-semibold text-white\">\n            {MONTH_NAMES[currentMonth]} {currentYear}\n          </h3>\n          <button\n            onClick={goToNextMonth}\n            className=\"p-2 hover:bg-white/5 rounded-lg transition-colors\"\n            aria-label=\"Next month\"\n          >\n            <svg\n              className=\"w-5 h-5 text-[#C6CFD9]\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M9 5l7 7-7 7\"\n              />\n            </svg>\n          </button>\n        </div>\n        <button\n          onClick={goToToday}\n          className=\"px-4 py-2 bg-[#1DA4F3]/20 hover:bg-[#1DA4F3]/30 border border-[#1DA4F3]/40 text-[#1DA4F3] rounded-lg transition-colors text-sm font-medium\"\n        >\n          Today\n        </button>\n      </div>\n\n      {/* Calendar Grid */}\n      <div className=\"grid grid-cols-7 gap-2\">\n        {/* Day headers */}\n        {DAY_NAMES.map((day) => (\n          <div\n            key={day}\n            className=\"text-center text-sm font-semibold text-[#C6CFD9] py-2\"\n          >\n            {day}\n          </div>\n        ))}\n\n        {/* Calendar days */}\n        {calendarDays.map(({ day, isCurrentMonth, isToday }, index) => {\n          const bookingsForDay = day > 0 ? getBookingsForDate(day) : [];\n          const hasBookings = bookingsForDay.length > 0;\n\n          return (\n            <div\n              key={index}\n              className={`min-h-[100px] p-2 border border-white/5 rounded-lg ${\n                isCurrentMonth ? 'bg-[#050B12]' : 'bg-[#0A1A2F]/50 opacity-50'\n              } ${isToday ? 'ring-2 ring-[#6FF0C4]/50' : ''}`}\n            >\n              {day > 0 && (\n                <>\n                  <div\n                    className={`text-sm font-medium mb-1 ${\n                      isToday\n                        ? 'text-[#6FF0C4]'\n                        : isCurrentMonth\n                        ? 'text-white'\n                        : 'text-[#C6CFD9]'\n                    }`}\n                  >\n                    {day}\n                  </div>\n                  <div className=\"space-y-1\">\n                    {bookingsForDay.slice(0, 2).map((booking) => (\n                      <Link\n                        key={booking.id}\n                        href={`/detailer/bookings/${booking.id}`}\n                        className={`block text-xs p-1.5 rounded border ${getStatusColor(\n                          booking.status\n                        )} hover:opacity-80 transition-opacity truncate`}\n                        title={`${booking.service?.name || 'Service'} - ${booking.user?.full_name || 'Customer'} at ${booking.scheduled_time_start?.substring(0, 5) || ''}`}\n                      >\n                        <div className=\"font-medium truncate\">\n                          {booking.scheduled_time_start?.substring(0, 5) || ''}\n                        </div>\n                        <div className=\"truncate\">\n                          {booking.service?.name || 'Service'}\n                        </div>\n                      </Link>\n                    ))}\n                    {bookingsForDay.length > 2 && (\n                      <div className=\"text-xs text-[#C6CFD9] px-1.5 py-1\">\n                        +{bookingsForDay.length - 2} more\n                      </div>\n                    )}\n                  </div>\n                </>\n              )}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"mt-6 flex items-center gap-6 text-sm\">\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#1DA4F3]/20 border border-[#1DA4F3]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">Accepted</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#6FF0C4]/20 border border-[#6FF0C4]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">In Progress</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"w-3 h-3 rounded bg-[#32CE7A]/20 border border-[#32CE7A]/40\"></div>\n          <span className=\"text-[#C6CFD9]\">Completed</span>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 408, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/components/ui/FilterDropdown.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface FilterOption {\n  value: string;\n  label: string;\n}\n\ninterface FilterDropdownProps {\n  label: string;\n  options: FilterOption[];\n  value?: string;\n  onChange: (value: string) => void;\n  multiple?: boolean;\n  className?: string;\n}\n\nexport default function FilterDropdown({\n  label,\n  options,\n  value,\n  onChange,\n  multiple = false,\n  className = '',\n}: FilterDropdownProps) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const selectedOption = options.find((opt) => opt.value === value);\n\n  return (\n    <div className={`relative ${className}`}>\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-left text-white flex items-center justify-between hover:border-[#32CE7A]/40 transition-colors\"\n      >\n        <span className=\"text-sm\">\n          {selectedOption ? selectedOption.label : label}\n        </span>\n        <svg\n          className={`w-5 h-5 text-[#C6CFD9] transform transition-transform ${\n            isOpen ? 'rotate-180' : ''\n          }`}\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M19 9l-7 7-7-7\"\n          />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <>\n          <div\n            className=\"fixed inset-0 z-10\"\n            onClick={() => setIsOpen(false)}\n          />\n          <div className=\"absolute z-20 w-full mt-2 bg-[#0A1A2F] border border-white/5 rounded-lg shadow-xl max-h-60 overflow-y-auto\">\n            {options.map((option) => (\n              <button\n                key={option.value}\n                onClick={() => {\n                  onChange(option.value);\n                  if (!multiple) {\n                    setIsOpen(false);\n                  }\n                }}\n                className={`\n                  w-full px-4 py-2 text-left text-sm hover:bg-white/5 transition-colors\n                  ${\n                    value === option.value\n                      ? 'bg-[#32CE7A]/20 text-[#32CE7A]'\n                      : 'text-white'\n                  }\n                `}\n              >\n                {option.label}\n              </button>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAkBe,SAAS,eAAe,EACrC,KAAK,EACL,OAAO,EACP,KAAK,EACL,QAAQ,EACR,WAAW,KAAK,EAChB,YAAY,EAAE,EACM;IACpB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,mPAAQ,EAAC;IAErC,MAAM,iBAAiB,QAAQ,IAAI,CAAC,CAAC,MAAQ,IAAI,KAAK,KAAK;IAE3D,qBACE,gRAAC;QAAI,WAAW,CAAC,SAAS,EAAE,WAAW;;0BACrC,gRAAC;gBACC,SAAS,IAAM,UAAU,CAAC;gBAC1B,WAAU;;kCAEV,gRAAC;wBAAK,WAAU;kCACb,iBAAiB,eAAe,KAAK,GAAG;;;;;;kCAE3C,gRAAC;wBACC,WAAW,CAAC,sDAAsD,EAChE,SAAS,eAAe,IACxB;wBACF,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,gRAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;;YAKP,wBACC;;kCACE,gRAAC;wBACC,WAAU;wBACV,SAAS,IAAM,UAAU;;;;;;kCAE3B,gRAAC;wBAAI,WAAU;kCACZ,QAAQ,GAAG,CAAC,CAAC,uBACZ,gRAAC;gCAEC,SAAS;oCACP,SAAS,OAAO,KAAK;oCACrB,IAAI,CAAC,UAAU;wCACb,UAAU;oCACZ;gCACF;gCACA,WAAW,CAAC;;kBAEV,EACE,UAAU,OAAO,KAAK,GAClB,mCACA,aACL;gBACH,CAAC;0CAEA,OAAO,KAAK;+BAhBR,OAAO,KAAK;;;;;;;;;;;;;;;;;;AAwBjC"}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/app/detailer/schedule/SchedulePageClient.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport CalendarView from '../dashboard/CalendarView';\nimport FilterDropdown from '@/components/ui/FilterDropdown';\n\ninterface SchedulePageClientProps {\n  bookings: any[];\n  mode: 'solo' | 'organization';\n  teams: Array<{ id: string; name: string }>;\n  detailers: Array<{ profile_id: string; full_name: string }>;\n  availabilitySlots: any[];\n}\n\ntype ViewType = 'personal' | 'team' | 'organization';\n\nexport default function SchedulePageClient({\n  bookings,\n  mode,\n  teams,\n  detailers,\n  availabilitySlots,\n}: SchedulePageClientProps) {\n  const [view, setView] = useState<ViewType>(mode === 'organization' ? 'organization' : 'personal');\n  const [selectedTeam, setSelectedTeam] = useState<string>('all');\n  const [selectedDetailer, setSelectedDetailer] = useState<string>('all');\n\n  const filteredBookings = bookings.filter((b) => {\n    if (view === 'team' && selectedTeam !== 'all') {\n      return b.team_id === selectedTeam;\n    }\n    if (view === 'organization' && selectedDetailer !== 'all') {\n      return b.detailer_id === selectedDetailer;\n    }\n    return true;\n  });\n\n  return (\n    <div className=\"space-y-6\">\n      {/* View Switcher (Org Mode Only) */}\n      {mode === 'organization' && (\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-4\">\n          <div className=\"flex items-center gap-4 flex-wrap\">\n            <span className=\"text-sm font-medium text-white\">View:</span>\n            <button\n              onClick={() => setView('personal')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                view === 'personal'\n                  ? 'bg-[#32CE7A] text-white'\n                  : 'bg-[#050B12] text-[#C6CFD9] hover:text-white'\n              }`}\n            >\n              Personal\n            </button>\n            <button\n              onClick={() => setView('team')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                view === 'team'\n                  ? 'bg-[#32CE7A] text-white'\n                  : 'bg-[#050B12] text-[#C6CFD9] hover:text-white'\n              }`}\n            >\n              Team\n            </button>\n            <button\n              onClick={() => setView('organization')}\n              className={`px-4 py-2 rounded-lg transition-colors ${\n                view === 'organization'\n                  ? 'bg-[#32CE7A] text-white'\n                  : 'bg-[#050B12] text-[#C6CFD9] hover:text-white'\n              }`}\n            >\n              Organization\n            </button>\n\n            {view === 'team' && teams.length > 0 && (\n              <FilterDropdown\n                label=\"Team\"\n                options={[\n                  { value: 'all', label: 'All Teams' },\n                  ...teams.map((t) => ({ value: t.id, label: t.name })),\n                ]}\n                value={selectedTeam}\n                onChange={setSelectedTeam}\n              />\n            )}\n\n            {view === 'organization' && detailers.length > 0 && (\n              <FilterDropdown\n                label=\"Detailer\"\n                options={[\n                  { value: 'all', label: 'All Detailers' },\n                  ...detailers.map((d) => ({ value: d.profile_id, label: d.full_name })),\n                ]}\n                value={selectedDetailer}\n                onChange={setSelectedDetailer}\n              />\n            )}\n          </div>\n        </div>\n      )}\n\n      {/* Calendar View */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6 mb-8\">\n        <div className=\"flex justify-between items-center mb-4\">\n          <h2 className=\"text-xl font-semibold text-white\">\n            {view === 'personal' ? 'Personal Calendar' : view === 'team' ? 'Team Calendar' : 'Organization Calendar'}\n          </h2>\n          {view === 'personal' && (\n            <Link\n              href=\"/detailer/availability\"\n              className=\"text-sm text-[#32CE7A] hover:text-[#6FF0C4] font-medium\"\n            >\n              Manage Availability →\n            </Link>\n          )}\n        </div>\n        <CalendarView bookings={filteredBookings} />\n      </div>\n\n      {/* Upcoming Bookings List */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">\n          {view === 'personal' ? 'Upcoming Bookings' : 'All Bookings'}\n        </h2>\n        {filteredBookings.length === 0 ? (\n          <p className=\"text-[#C6CFD9]\">No bookings found</p>\n        ) : (\n          <div className=\"space-y-4\">\n            {filteredBookings.slice(0, 10).map((booking) => (\n              <Link\n                key={booking.id}\n                href={`/detailer/bookings/${booking.id}`}\n                className=\"block bg-[#050B12] border border-white/5 rounded-lg p-4 hover:border-[#6FF0C4]/20 transition-colors\"\n              >\n                <div className=\"flex justify-between items-start\">\n                  <div>\n                    <div className=\"font-semibold text-white\">\n                      {booking.car?.make} {booking.car?.model} {booking.car?.year}\n                    </div>\n                    <div className=\"text-sm text-[#C6CFD9] mt-1\">\n                      {booking.service?.name} - {booking.user?.full_name}\n                      {mode === 'organization' && booking.detailer && (\n                        <span className=\"ml-2 text-[#32CE7A]\">• {booking.detailer.full_name}</span>\n                      )}\n                      {mode === 'organization' && booking.team && (\n                        <span className=\"ml-2 text-[#6FF0C4]\">• {booking.team.name}</span>\n                      )}\n                    </div>\n                    <div className=\"text-sm text-[#C6CFD9] mt-1\">\n                      {booking.scheduled_date && booking.scheduled_time_start\n                        ? `${new Date(booking.scheduled_date).toLocaleDateString()} at ${booking.scheduled_time_start.substring(0, 5)}`\n                        : booking.scheduled_start\n                        ? new Date(booking.scheduled_start).toLocaleString()\n                        : 'Date TBD'}\n                    </div>\n                    {booking.address_line1 && (\n                      <div className=\"text-xs text-[#C6CFD9] mt-1\">\n                        {booking.address_line1}, {booking.city}\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"text-right\">\n                    <div className=\"text-white font-semibold\">\n                      ${booking.service?.price || booking.total_amount || 0}\n                    </div>\n                    <div className=\"text-xs text-[#C6CFD9] mt-1 capitalize\">{booking.status}</div>\n                  </div>\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}