{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/camps/cleanswift/web-dashboard/app/detailer/settings/SettingsPageClient.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { createClient } from '@/lib/supabase/client';\nimport { useRouter } from 'next/navigation';\n\ninterface SettingsPageClientProps {\n  profile: any;\n  serviceAreas: any[];\n  notificationSettings: any;\n}\n\nexport default function SettingsPageClient({\n  profile,\n  serviceAreas,\n  notificationSettings,\n}: SettingsPageClientProps) {\n  const router = useRouter();\n  const supabase = createClient();\n  const [isSaving, setIsSaving] = useState(false);\n\n  const [formData, setFormData] = useState({\n    full_name: profile.full_name || '',\n    phone: profile.phone || '',\n    city: serviceAreas[0]?.city || '',\n    province: serviceAreas[0]?.province || '',\n    postal_code: serviceAreas[0]?.postal_code || '',\n    push_enabled: notificationSettings?.push_enabled ?? true,\n    email_enabled: notificationSettings?.email_enabled ?? false,\n  });\n\n  const handleSave = async () => {\n    setIsSaving(true);\n    try {\n      // Update profile\n      await supabase\n        .from('profiles')\n        .update({\n          full_name: formData.full_name,\n          phone: formData.phone,\n        })\n        .eq('id', profile.id);\n\n      // Update service area (for solo mode, only one)\n      if (serviceAreas.length > 0) {\n        await supabase\n          .from('service_areas')\n          .update({\n            city: formData.city,\n            province: formData.province,\n            postal_code: formData.postal_code,\n          })\n          .eq('id', serviceAreas[0].id);\n      }\n\n      // Update notification settings\n      if (notificationSettings) {\n        await supabase\n          .from('notification_settings')\n          .update({\n            push_enabled: formData.push_enabled,\n            email_enabled: formData.email_enabled,\n          })\n          .eq('user_id', profile.id);\n      }\n\n      router.refresh();\n      alert('Settings saved successfully!');\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      alert('Failed to save settings');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Profile Section */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Profile</h2>\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              Full Name\n            </label>\n            <input\n              type=\"text\"\n              value={formData.full_name}\n              onChange={(e) => setFormData({ ...formData, full_name: e.target.value })}\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              Email\n            </label>\n            <input\n              type=\"email\"\n              value={profile.email || ''}\n              disabled\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12]/50 border border-white/5 rounded-lg text-[#C6CFD9] cursor-not-allowed\"\n            />\n            <p className=\"text-xs text-[#C6CFD9] mt-1\">Email cannot be changed</p>\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              Phone\n            </label>\n            <input\n              type=\"tel\"\n              value={formData.phone}\n              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Service Area Section */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Service Area</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              City\n            </label>\n            <input\n              type=\"text\"\n              value={formData.city}\n              onChange={(e) => setFormData({ ...formData, city: e.target.value })}\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              Province\n            </label>\n            <input\n              type=\"text\"\n              value={formData.province}\n              onChange={(e) => setFormData({ ...formData, province: e.target.value })}\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium text-[#C6CFD9] mb-2\">\n              Postal Code\n            </label>\n            <input\n              type=\"text\"\n              value={formData.postal_code}\n              onChange={(e) => setFormData({ ...formData, postal_code: e.target.value })}\n              suppressHydrationWarning\n              className=\"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40\"\n            />\n          </div>\n        </div>\n      </div>\n\n      {/* Notification Preferences */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Notification Preferences</h2>\n        <div className=\"space-y-4\">\n          <label className=\"flex items-center justify-between cursor-pointer\">\n            <span className=\"text-[#C6CFD9]\">Push Notifications</span>\n            <input\n              type=\"checkbox\"\n              checked={formData.push_enabled}\n              onChange={(e) => setFormData({ ...formData, push_enabled: e.target.checked })}\n              suppressHydrationWarning\n              className=\"w-12 h-6 rounded-full bg-[#050B12] border border-white/5 appearance-none relative cursor-pointer checked:bg-[#32CE7A] transition-colors\"\n            />\n          </label>\n          <label className=\"flex items-center justify-between cursor-pointer\">\n            <span className=\"text-[#C6CFD9]\">Email Notifications</span>\n            <input\n              type=\"checkbox\"\n              checked={formData.email_enabled}\n              onChange={(e) => setFormData({ ...formData, email_enabled: e.target.checked })}\n              suppressHydrationWarning\n              className=\"w-12 h-6 rounded-full bg-[#050B12] border border-white/5 appearance-none relative cursor-pointer checked:bg-[#32CE7A] transition-colors\"\n            />\n          </label>\n        </div>\n      </div>\n\n      {/* Stripe Connect Status */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Payment Account</h2>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <p className=\"text-[#C6CFD9]\">Stripe Connect Account</p>\n            <p className=\"text-sm text-[#C6CFD9] mt-1\">\n              Status: Not Connected (Placeholder)\n            </p>\n          </div>\n          <button\n            disabled\n            className=\"px-4 py-2 bg-[#32CE7A]/20 text-[#32CE7A] rounded-lg cursor-not-allowed\"\n          >\n            Connect Account\n          </button>\n        </div>\n      </div>\n\n      {/* Save Button */}\n      <div className=\"flex justify-end\">\n        <button\n          onClick={handleSave}\n          disabled={isSaving}\n          className=\"px-6 py-3 bg-[#32CE7A] hover:bg-[#2AB869] text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n        >\n          {isSaving ? 'Saving...' : 'Save Settings'}\n        </button>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAYe,SAAS,mBAAmB,EACzC,OAAO,EACP,YAAY,EACZ,oBAAoB,EACI;;IACxB,MAAM,SAAS,IAAA,oLAAS;IACxB,MAAM,WAAW,IAAA,8KAAY;IAC7B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2MAAQ,EAAC;IAEzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,2MAAQ,EAAC;QACvC,WAAW,QAAQ,SAAS,IAAI;QAChC,OAAO,QAAQ,KAAK,IAAI;QACxB,MAAM,YAAY,CAAC,EAAE,EAAE,QAAQ;QAC/B,UAAU,YAAY,CAAC,EAAE,EAAE,YAAY;QACvC,aAAa,YAAY,CAAC,EAAE,EAAE,eAAe;QAC7C,cAAc,sBAAsB,gBAAgB;QACpD,eAAe,sBAAsB,iBAAiB;IACxD;IAEA,MAAM,aAAa;QACjB,YAAY;QACZ,IAAI;YACF,iBAAiB;YACjB,MAAM,SACH,IAAI,CAAC,YACL,MAAM,CAAC;gBACN,WAAW,SAAS,SAAS;gBAC7B,OAAO,SAAS,KAAK;YACvB,GACC,EAAE,CAAC,MAAM,QAAQ,EAAE;YAEtB,gDAAgD;YAChD,IAAI,aAAa,MAAM,GAAG,GAAG;gBAC3B,MAAM,SACH,IAAI,CAAC,iBACL,MAAM,CAAC;oBACN,MAAM,SAAS,IAAI;oBACnB,UAAU,SAAS,QAAQ;oBAC3B,aAAa,SAAS,WAAW;gBACnC,GACC,EAAE,CAAC,MAAM,YAAY,CAAC,EAAE,CAAC,EAAE;YAChC;YAEA,+BAA+B;YAC/B,IAAI,sBAAsB;gBACxB,MAAM,SACH,IAAI,CAAC,yBACL,MAAM,CAAC;oBACN,cAAc,SAAS,YAAY;oBACnC,eAAe,SAAS,aAAa;gBACvC,GACC,EAAE,CAAC,WAAW,QAAQ,EAAE;YAC7B;YAEA,OAAO,OAAO;YACd,MAAM;QACR,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,MAAM;QACR,SAAU;YACR,YAAY;QACd;IACF;IAEA,qBACE,+NAAC;QAAI,WAAU;;0BAEb,+NAAC;gBAAI,WAAU;;kCACb,+NAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,+NAAC;wBAAI,WAAU;;0CACb,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,SAAS,SAAS;wCACzB,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,WAAW,EAAE,MAAM,CAAC,KAAK;4CAAC;wCACtE,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;0CAGd,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,QAAQ,KAAK,IAAI;wCACxB,QAAQ;wCACR,wBAAwB;wCACxB,WAAU;;;;;;kDAEZ,+NAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;0CAE7C,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,SAAS,KAAK;wCACrB,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,OAAO,EAAE,MAAM,CAAC,KAAK;4CAAC;wCAClE,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAOlB,+NAAC;gBAAI,WAAU;;kCACb,+NAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,+NAAC;wBAAI,WAAU;;0CACb,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,SAAS,IAAI;wCACpB,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4CAAC;wCACjE,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;0CAGd,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,SAAS,QAAQ;wCACxB,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,UAAU,EAAE,MAAM,CAAC,KAAK;4CAAC;wCACrE,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;0CAGd,+NAAC;;kDACC,+NAAC;wCAAM,WAAU;kDAAgD;;;;;;kDAGjE,+NAAC;wCACC,MAAK;wCACL,OAAO,SAAS,WAAW;wCAC3B,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4CAAC;wCACxE,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAOlB,+NAAC;gBAAI,WAAU;;kCACb,+NAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,+NAAC;wBAAI,WAAU;;0CACb,+NAAC;gCAAM,WAAU;;kDACf,+NAAC;wCAAK,WAAU;kDAAiB;;;;;;kDACjC,+NAAC;wCACC,MAAK;wCACL,SAAS,SAAS,YAAY;wCAC9B,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,cAAc,EAAE,MAAM,CAAC,OAAO;4CAAC;wCAC3E,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;0CAGd,+NAAC;gCAAM,WAAU;;kDACf,+NAAC;wCAAK,WAAU;kDAAiB;;;;;;kDACjC,+NAAC;wCACC,MAAK;wCACL,SAAS,SAAS,aAAa;wCAC/B,UAAU,CAAC,IAAM,YAAY;gDAAE,GAAG,QAAQ;gDAAE,eAAe,EAAE,MAAM,CAAC,OAAO;4CAAC;wCAC5E,wBAAwB;wCACxB,WAAU;;;;;;;;;;;;;;;;;;;;;;;;0BAOlB,+NAAC;gBAAI,WAAU;;kCACb,+NAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,+NAAC;wBAAI,WAAU;;0CACb,+NAAC;;kDACC,+NAAC;wCAAE,WAAU;kDAAiB;;;;;;kDAC9B,+NAAC;wCAAE,WAAU;kDAA8B;;;;;;;;;;;;0CAI7C,+NAAC;gCACC,QAAQ;gCACR,WAAU;0CACX;;;;;;;;;;;;;;;;;;0BAOL,+NAAC;gBAAI,WAAU;0BACb,cAAA,+NAAC;oBACC,SAAS;oBACT,UAAU;oBACV,WAAU;8BAET,WAAW,cAAc;;;;;;;;;;;;;;;;;AAKpC;GAnNwB;;QAKP,oLAAS;;;KALF"}}]
}