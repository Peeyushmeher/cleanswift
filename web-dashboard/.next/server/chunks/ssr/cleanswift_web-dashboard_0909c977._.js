module.exports=[61535,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(9753),g=a.r(47739),h=a.r(79085)},72359,66823,15956,89387,a=>{"use strict";var b=a.i(61535),c=(0,b.createServerReference)("70441f92eace9f5c95172795179a39e8de3e56cc9c",b.callServer,void 0,b.findSourceMapURL,"updateMemberRole");a.s(["updateMemberRole",()=>c],72359);var d=(0,b.createServerReference)("60cbe5e04c6b41e452e03d4194f480e00fc61fb53d",b.callServer,void 0,b.findSourceMapURL,"suspendMember");a.s(["suspendMember",()=>d],66823);var e=(0,b.createServerReference)("60130a1205b9140401be37ca750477dc5af6567516",b.callServer,void 0,b.findSourceMapURL,"activateMember");a.s(["activateMember",()=>e],15956);var f=(0,b.createServerReference)("60aa0c9c4e959f5cdd05e33b980a52df99e7636d8e",b.callServer,void 0,b.findSourceMapURL,"removeMember");a.s(["removeMember",()=>f],89387)},21502,a=>{"use strict";var b,c=a.i(36679),d=a.i(2852),e=a.i(11884),f=a.i(18520),g=a.i(72359),h=a.i(66823),i=a.i(15956),j=a.i(89387);function k({member:a,teams:b,earnings:k,completedJobs:l,rating:m,reviewCount:n,organizationId:o,currentUserRole:p}){let[q,r]=(0,d.useState)(!1),s=(0,e.useRouter)(),t=!!p&&"owner"===p,u=!!p&&("owner"===p||"manager"===p),v=async b=>{if(confirm(`Are you sure you want to change this member's role to ${b}?`)){r(!0);try{await (0,g.updateMemberRole)(o,a.profile_id,b),s.refresh()}catch(a){alert(a.message||"Failed to update role")}finally{r(!1)}}},w=async()=>{if(confirm("Are you sure you want to suspend this member?")){r(!0);try{await (0,h.suspendMember)(o,a.profile_id),s.refresh()}catch(a){alert(a.message||"Failed to suspend member")}finally{r(!1)}}},x=async()=>{r(!0);try{await (0,i.activateMember)(o,a.profile_id),s.refresh()}catch(a){alert(a.message||"Failed to activate member")}finally{r(!1)}},y=async()=>{if(confirm("Are you sure you want to remove this member from the organization?")){r(!0);try{await (0,j.removeMember)(o,a.profile_id),s.push("/detailer/members")}catch(a){alert(a.message||"Failed to remove member")}finally{r(!1)}}};return(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(f.default,{href:"/detailer/members",className:"text-[#6FF0C4] hover:text-[#32CE7A] mb-4 inline-block",children:"← Back to Members"}),(0,c.jsx)("h1",{className:"text-3xl font-bold text-white",children:a.full_name}),(0,c.jsx)("p",{className:"text-[#C6CFD9] mt-1",children:a.email})]}),(0,c.jsxs)("div",{className:"flex items-center gap-3",children:[(0,c.jsx)("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium border ${(a=>{switch(a){case"owner":return"bg-purple-500/20 text-purple-400 border-purple-500/40";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/40";case"dispatcher":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/40";case"detailer":return"bg-[#32CE7A]/20 text-[#32CE7A] border-[#32CE7A]/40";default:return"bg-gray-500/20 text-gray-400 border-gray-500/40"}})(a.role)}`,children:a.role.charAt(0).toUpperCase()+a.role.slice(1)}),(0,c.jsx)("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${a.is_active?"bg-[#32CE7A]/20 text-[#32CE7A]":"bg-red-500/20 text-red-400"}`,children:a.is_active?"Active":"Inactive"})]})]}),(0,c.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Member Information"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Email"}),(0,c.jsx)("div",{className:"text-white",children:a.email})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Role"}),(0,c.jsx)("div",{className:"text-white capitalize",children:a.role})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Status"}),(0,c.jsx)("div",{className:"text-white",children:a.is_active?"Active":"Inactive"})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Joined"}),(0,c.jsx)("div",{className:"text-white",children:new Date(a.created_at).toLocaleDateString()})]})]})]}),b.length>0&&(0,c.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Teams"}),(0,c.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map(a=>(0,c.jsx)(f.default,{href:`/detailer/teams/${a.id}`,className:"px-3 py-1 bg-[#32CE7A]/20 text-[#32CE7A] rounded-lg hover:bg-[#32CE7A]/30 transition-colors",children:a.name},a.id))})]}),k&&(0,c.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Performance"}),(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Total Earnings"}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-[#32CE7A]",children:["$",k.total.toFixed(2)]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Completed Jobs"}),(0,c.jsx)("div",{className:"text-2xl font-bold text-white",children:k.completedJobs})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9] mb-1",children:"Rating"}),(0,c.jsxs)("div",{className:"text-2xl font-bold text-white",children:["⭐ ",m.toFixed(1)," (",n," reviews)"]})]})]})]}),l.length>0&&(0,c.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Completed Jobs"}),(0,c.jsx)("div",{className:"space-y-2",children:l.map(a=>(0,c.jsx)(f.default,{href:`/detailer/bookings/${a.id}`,className:"block p-3 bg-[#050B12] border border-white/5 rounded-lg hover:border-[#32CE7A]/40 transition-colors",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"font-medium text-white",children:a.receipt_id}),(0,c.jsx)("div",{className:"text-sm text-[#C6CFD9]",children:a.service?.name})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsxs)("div",{className:"text-white font-semibold",children:["$",a.total_amount||0]}),(0,c.jsx)("div",{className:"text-xs text-[#C6CFD9]",children:new Date(a.completed_at).toLocaleDateString()})]})]})},a.id))})]}),(t||u)&&(0,c.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Actions"}),(0,c.jsxs)("div",{className:"space-y-3",children:[t&&(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"Change Role"}),(0,c.jsxs)("select",{value:a.role,onChange:a=>v(a.target.value),disabled:q,className:"w-full md:w-auto px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40 disabled:opacity-50",children:[(0,c.jsx)("option",{value:"detailer",children:"Detailer"}),(0,c.jsx)("option",{value:"dispatcher",children:"Dispatcher"}),(0,c.jsx)("option",{value:"manager",children:"Manager"}),(0,c.jsx)("option",{value:"owner",children:"Owner"})]})]}),u&&(0,c.jsxs)("div",{className:"flex gap-3",children:[a.is_active?(0,c.jsx)("button",{onClick:w,disabled:q,className:"px-4 py-2 bg-yellow-500/20 hover:bg-yellow-500/30 text-yellow-400 font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Suspend Member"}):(0,c.jsx)("button",{onClick:x,disabled:q,className:"px-4 py-2 bg-[#32CE7A] hover:bg-[#2AB869] text-white font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Activate Member"}),(0,c.jsx)("button",{onClick:y,disabled:q,className:"px-4 py-2 bg-red-500/20 hover:bg-red-500/30 text-red-400 font-semibold rounded-lg transition-colors disabled:opacity-50",children:"Remove from Organization"})]})]})]})]})}(b={}).Owner="owner",b.Manager="manager",b.Dispatcher="dispatcher",b.Detailer="detailer",a.s(["default",()=>k],21502)}];

//# sourceMappingURL=cleanswift_web-dashboard_0909c977._.js.map