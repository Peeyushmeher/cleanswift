{"version":3,"sources":["../../../../../../cleanswift/web-dashboard/app/detailer/teams/TeamsPageClient.tsx/__nextjs-internal-proxy.mjs","../../../../../../cleanswift/web-dashboard/app/detailer/teams/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/cleanswift/web-dashboard/app/detailer/teams/TeamsPageClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cleanswift/web-dashboard/app/detailer/teams/TeamsPageClient.tsx\",\n    \"default\",\n);\n","import { requireDetailer, getDetailerMode } from '@/lib/auth';\nimport { createClient } from '@/lib/supabase/server';\nimport { getDetailerOrganization, getOrganizationRole } from '@/lib/detailer/mode-detection';\nimport { redirect } from 'next/navigation';\nimport TeamsPageClient from './TeamsPageClient';\n\nexport default async function TeamsPage() {\n  const profile = await requireDetailer();\n  const mode = await getDetailerMode();\n\n  // Redirect solo detailers (teams are org-only)\n  if (mode === 'solo') {\n    redirect('/detailer/dashboard');\n  }\n\n  const supabase = await createClient();\n  const organization = await getDetailerOrganization();\n\n  if (!organization) {\n    redirect('/detailer/dashboard');\n  }\n\n  const orgId = organization.id;\n  const orgRole = await getOrganizationRole(orgId);\n\n  // Get teams\n  const { data: teams } = await supabase\n    .from('teams')\n    .select(`\n      *,\n      team_members (\n        id,\n        detailer:detailers (\n          id,\n          full_name,\n          profile:profiles (\n            email\n          )\n        )\n      )\n    `)\n    .eq('organization_id', orgId)\n    .eq('is_active', true)\n    .order('created_at', { ascending: true });\n\n  return (\n    <div className=\"min-h-screen bg-[#050B12] text-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Teams</h1>\n          <p className=\"text-[#C6CFD9]\">Manage teams within your organization</p>\n        </div>\n\n        <TeamsPageClient \n          initialTeams={teams || []} \n          organizationId={orgId}\n          canManageTeams={orgRole === 'owner' || orgRole === 'manager'}\n        />\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"kWAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,iUAAmU,EAChW,gGACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,6SAA+S,EAC5U,4EACA,mICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IACZ,MAAM,CAAA,EAAA,EAAA,eAAe,AAAf,IAIlB,AAAS,QAAQ,CAHR,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,KAIhC,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,uBAGX,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,YAAY,AAAZ,IACjB,EAAe,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,GAE9C,CAAC,GACH,CAAA,EAAA,EAAA,MADiB,EACjB,AAAQ,EAAC,uBAGX,IAAM,EAAQ,EAAa,EAAE,CACvB,EAAU,MAAM,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,GAGpC,CAAE,KAAM,CAAK,CAAE,CAAG,MAAM,EAC3B,IAAI,CAAC,SACL,MAAM,CAAC,CAAC;;;;;;;;;;;;IAYT,CAAC,EACA,EAAE,CAAC,kBAAmB,GACtB,EAAE,CAAC,aAAa,GAChB,KAAK,CAAC,aAAc,CAAE,WAAW,CAAK,GAEzC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,UACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,6CAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAe,CAAA,CACd,aAAc,GAAS,EAAE,CACzB,eAAgB,EAChB,eAA4B,UAAZ,GAAmC,YAAZ,QAKjD","ignoreList":[0]}