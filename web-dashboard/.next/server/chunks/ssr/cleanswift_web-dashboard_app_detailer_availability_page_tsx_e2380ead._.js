module.exports=[69251,a=>{"use strict";var b=a.i(36679),c=a.i(2852),d=a.i(35816),e=a.i(11884);let f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null);(0,e.useRouter)();let n=(0,d.createClient)();(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{i(!0);let{data:a,error:b}=await n.rpc("get_detailer_availability");if(b)throw b;g(a||[])}catch(a){m(a instanceof Error?a.message:"Failed to load availability")}finally{i(!1)}},p=async b=>{try{k(!0),m(null);let c=a.find(a=>a.day_of_week===b);if(c){let{error:a}=await n.rpc("set_detailer_availability",{p_day_of_week:b,p_start_time:c.start_time,p_end_time:c.end_time,p_is_active:!c.is_active});if(a)throw a}else{let{error:a}=await n.rpc("set_detailer_availability",{p_day_of_week:b,p_start_time:"09:00:00",p_end_time:"17:00:00",p_is_active:!0});if(a)throw a}await o()}catch(a){m(a instanceof Error?a.message:"Failed to update availability")}finally{k(!1)}},q=async(b,c,d)=>{try{k(!0),m(null);let e=a.find(a=>a.day_of_week===b),f=d.includes(":")&&2===d.split(":").length?`${d}:00`:d,{error:g}=await n.rpc("set_detailer_availability",{p_day_of_week:b,p_start_time:"start_time"===c?f:e?.start_time||"09:00:00",p_end_time:"end_time"===c?f:e?.end_time||"17:00:00",p_is_active:e?.is_active??!0});if(g)throw g;await o()}catch(a){m(a instanceof Error?a.message:"Failed to update time")}finally{k(!1)}};return h?(0,b.jsx)("div",{className:"min-h-screen bg-[#050B12] text-white flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-[#C6CFD9]",children:"Loading availability..."})}):(0,b.jsx)("div",{className:"min-h-screen bg-[#050B12] text-white",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Availability Management"}),(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"Set your weekly availability schedule"})]}),l&&(0,b.jsx)("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg text-sm mb-6",children:l}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"space-y-4",children:f.map((c,d)=>{let e=a.find(a=>a.day_of_week===d),f=e?.is_active??!1;return(0,b.jsx)("div",{className:"flex items-center justify-between p-4 bg-[#050B12] border border-white/5 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:f,onChange:()=>p(d),disabled:j,className:"w-5 h-5 rounded border-white/20 bg-[#0A1A2F] text-[#32CE7A] focus:ring-[#32CE7A]"}),(0,b.jsx)("span",{className:"text-white font-medium w-24",children:c})]}),f&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"time",value:e?e.start_time.substring(0,5):"09:00",onChange:a=>q(d,"start_time",a.target.value),disabled:j,className:"px-3 py-2 bg-[#0A1A2F] border border-white/10 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#6FF0C4]"}),(0,b.jsx)("span",{className:"text-[#C6CFD9]",children:"to"}),(0,b.jsx)("input",{type:"time",value:e?e.end_time.substring(0,5):"17:00",onChange:a=>q(d,"end_time",a.target.value),disabled:j,className:"px-3 py-2 bg-[#0A1A2F] border border-white/10 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#6FF0C4]"})]})]})},d)})}),j&&(0,b.jsx)("div",{className:"mt-4 text-[#C6CFD9] text-sm",children:"Saving changes..."})]})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=cleanswift_web-dashboard_app_detailer_availability_page_tsx_e2380ead._.js.map