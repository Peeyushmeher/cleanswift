module.exports=[59838,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(44322)},52709,a=>{"use strict";var b=a.i(2813),c=a.i(59838),d=a.i(54380),e=a.i(75557);a.i(37104);var f=a.i(22971);let g=async function(a){let b=a.get("detailer_id");if(b){let a=await (0,e.createClient)(),{data:c}=await a.from("detailers").select("is_active").eq("id",b).single();c&&await a.from("detailers").update({is_active:!c.is_active}).eq("id",b),(0,f.redirect)("/admin/detailers")}};async function h(){await (0,d.requireAdmin)();let a=await (0,e.createClient)(),{data:c}=await a.rpc("get_all_detailers");return(0,b.jsx)("div",{className:"min-h-screen bg-[#050B12] text-white",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Detailers Management"}),(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"Manage detailer accounts and status"})]}),c&&0!==c.length?(0,b.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-[#050B12] border-b border-white/10",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Name"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Phone"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Rating"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Experience"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Bookings"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:c.map(a=>(0,b.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.full_name}),(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.profile?.email||"N/A"}),(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.profile?.phone||"N/A"}),(0,b.jsxs)("td",{className:"py-3 px-4 text-white text-sm",children:[a.rating?a.rating.toFixed(1):"N/A"," (",a.review_count||0," reviews)"]}),(0,b.jsxs)("td",{className:"py-3 px-4 text-white text-sm",children:[a.years_experience||0," years"]}),(0,b.jsxs)("td",{className:"py-3 px-4 text-white text-sm",children:[a.booking_count||0," total, ",a.completed_count||0," completed"]}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm",children:a.is_active?(0,b.jsx)("span",{className:"text-[#32CE7A]",children:"Active"}):(0,b.jsx)("span",{className:"text-red-400",children:"Inactive"})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("form",{action:g,children:[(0,b.jsx)("input",{type:"hidden",name:"detailer_id",value:a.id}),(0,b.jsx)("button",{type:"submit",className:`text-sm font-semibold py-1 px-3 rounded transition-colors ${a.is_active?"bg-red-500/20 text-red-400 hover:bg-red-500/30":"bg-[#32CE7A]/20 text-[#32CE7A] hover:bg-[#32CE7A]/30"}`,children:a.is_active?"Deactivate":"Activate"})]})})]},a.id))})]})})}):(0,b.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-8 text-center",children:(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"No detailers found"})})]})})}(0,c.registerServerReference)(g,"400f61838433673e3a9aa596368bd71211f727c572",null),a.s(["$$RSC_SERVER_ACTION_0",0,g,"default",()=>h])},37011,a=>{"use strict";var b=a.i(52709);a.s([],80358),a.i(80358),a.s(["400f61838433673e3a9aa596368bd71211f727c572",()=>b.$$RSC_SERVER_ACTION_0],37011)}];

//# sourceMappingURL=cleanswift_web-dashboard_ad051e9d._.js.map