{"version":3,"sources":["../../../../../../cleanswift/web-dashboard/app/detailer/settings/organization/OrganizationSettingsClient.tsx/__nextjs-internal-proxy.mjs","../../../../../../cleanswift/web-dashboard/app/detailer/settings/organization/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/cleanswift/web-dashboard/app/detailer/settings/organization/OrganizationSettingsClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cleanswift/web-dashboard/app/detailer/settings/organization/OrganizationSettingsClient.tsx\",\n    \"default\",\n);\n","import { requireDetailer, getDetailerMode } from '@/lib/auth';\nimport { createClient } from '@/lib/supabase/server';\nimport { getDetailerOrganization, getOrganizationRole } from '@/lib/detailer/mode-detection';\nimport { canManageOrgSettings } from '@/lib/detailer/permissions';\nimport { redirect } from 'next/navigation';\nimport OrganizationSettingsClient from './OrganizationSettingsClient';\n\nexport default async function OrganizationSettingsPage() {\n  const profile = await requireDetailer();\n  const mode = await getDetailerMode();\n\n  if (mode === 'solo') {\n    redirect('/detailer/settings');\n  }\n\n  const supabase = await createClient();\n  const organization = await getDetailerOrganization();\n  const orgRole = organization ? await getOrganizationRole(organization.id) : null;\n\n  if (!organization) {\n    redirect('/detailer/settings');\n  }\n\n  // Check permissions\n  if (!canManageOrgSettings(orgRole)) {\n    redirect('/detailer/settings');\n  }\n\n  // Get service zones from service_area JSONB column\n  const serviceZones: any[] = organization.service_area && Array.isArray(organization.service_area)\n    ? organization.service_area\n    : [];\n\n  return (\n    <div className=\"min-h-screen bg-[#050B12] text-white\">\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Organization Settings</h1>\n          <p className=\"text-[#C6CFD9]\">Manage your organization profile and settings</p>\n        </div>\n\n        <OrganizationSettingsClient\n          organization={organization}\n          initialServiceZones={serviceZones}\n        />\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"kWAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,4VAA8V,EAC3X,2HACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,wUAA0U,EACvW,uGACA,mICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,eAAe,IACZ,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,IAGjC,AAAS,QAAQ,CAFR,MAAM,CAAA,EAAA,EAAA,eAAA,AAAe,KAGhC,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,sBAGM,MAAM,CAAA,EAAA,EAAA,YAAA,AAAY,IACnC,IAAM,EAAe,MAAM,CAAA,EAAA,EAAA,uBAAA,AAAuB,IAC5C,EAAU,EAAe,MAAM,CAAA,EAAA,EAAA,mBAAA,AAAmB,EAAC,EAAa,EAAE,EAAI,IAExE,CAAC,GACH,CAAA,EAAA,EAAA,MADiB,EACT,AAAR,EAAS,sBAIP,AAAC,CAAA,EAAA,EAAA,oBAAA,AAAoB,EAAC,IACxB,CAAA,EAAA,EAAA,CADkC,OAClC,AAAQ,EAAC,sBAIX,IAAM,EAAsB,EAAa,YAAY,EAAI,MAAM,OAAO,CAAC,EAAa,YAAY,EAC5F,EAAa,YAAY,CACzB,EAAE,CAEN,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iBACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,0BACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0BAAiB,qDAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAA0B,CAAA,CACzB,aAAc,EACd,oBAAqB,QAK/B","ignoreList":[0]}