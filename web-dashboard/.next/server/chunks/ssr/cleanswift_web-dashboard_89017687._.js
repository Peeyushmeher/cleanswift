module.exports=[59838,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(44322)},39333,a=>{"use strict";var b=a.i(2813),c=a.i(59838),d=a.i(54380),e=a.i(75557);a.i(37104);var f=a.i(22971);let g=async function(a){let b=a.get("user_id"),c=a.get("role");if(b&&c){let a=await (0,e.createClient)();await a.rpc("update_user_role",{p_user_id:b,p_new_role:c}),(0,f.redirect)("/admin/users")}};async function h({searchParams:a}){await (0,d.requireAdmin)();let c=await (0,e.createClient)(),f=a.role||null,{data:h}=await c.rpc("get_all_users",{p_role_filter:f,p_limit:100,p_offset:0});return(0,b.jsx)("div",{className:"min-h-screen bg-[#050B12] text-white",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Users Management"}),(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"Manage user accounts and roles"})]}),(0,b.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("a",{href:"/admin/users",className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${!f?"bg-[#32CE7A] text-white":"bg-[#050B12] text-[#C6CFD9] hover:bg-white/5"}`,children:"All"}),["user","detailer","admin"].map(a=>(0,b.jsx)("a",{href:`/admin/users?role=${a}`,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${f===a?"bg-[#32CE7A] text-white":"bg-[#050B12] text-[#C6CFD9] hover:bg-white/5"}`,children:a},a))]})}),h&&0!==h.length?(0,b.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-[#050B12] border-b border-white/10",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Name"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Phone"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Role"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Bookings"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-[#C6CFD9] text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:h.map(a=>(0,b.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.full_name}),(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.email}),(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.phone}),(0,b.jsx)("td",{className:"py-3 px-4 text-sm",children:(0,b.jsx)("span",{className:"capitalize text-[#C6CFD9]",children:a.role})}),(0,b.jsx)("td",{className:"py-3 px-4 text-white text-sm",children:a.booking_count||0}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("form",{action:g,className:"flex gap-2",children:[(0,b.jsx)("input",{type:"hidden",name:"user_id",value:a.id}),(0,b.jsxs)("select",{name:"role",defaultValue:a.role,className:"px-3 py-1 bg-[#050B12] border border-white/10 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-[#6FF0C4]",children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"detailer",children:"Detailer"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]}),(0,b.jsx)("button",{type:"submit",className:"bg-[#32CE7A] hover:bg-[#2AB869] text-white text-sm font-semibold py-1 px-3 rounded transition-colors",children:"Update"})]})})]},a.id))})]})})}):(0,b.jsx)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-8 text-center",children:(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"No users found"})})]})})}(0,c.registerServerReference)(g,"40f7840d6b2af554d4d8d5f57a66b605f21e8eb023",null),a.s(["$$RSC_SERVER_ACTION_0",0,g,"default",()=>h])},59262,a=>{"use strict";var b=a.i(39333);a.s([],50161),a.i(50161),a.s(["40f7840d6b2af554d4d8d5f57a66b605f21e8eb023",()=>b.$$RSC_SERVER_ACTION_0],59262)}];

//# sourceMappingURL=cleanswift_web-dashboard_89017687._.js.map