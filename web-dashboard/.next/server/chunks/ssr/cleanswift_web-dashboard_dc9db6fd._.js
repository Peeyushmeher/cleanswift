module.exports=[59838,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(44322)},74857,a=>{"use strict";function b(a){return!!a&&("owner"===a||"manager"===a||"dispatcher"===a)}function c(a){return!!a&&("owner"===a||"manager"===a)}function d(a){return!!a&&("owner"===a||"manager"===a)}function e(a){return!!a&&("owner"===a||"manager"===a)}function f(a){return!!a&&"owner"===a}function g(a){return!!a&&"owner"===a}function h(a){return!!a&&("owner"===a||"manager"===a)}function i(a){return!!a&&("owner"===a||"manager"===a||"dispatcher"===a)}a.s(["canAssignJobs",()=>b,"canChangeMemberRoles",()=>g,"canManageMembers",()=>d,"canManageOrgSettings",()=>f,"canManageTeams",()=>c,"canRemoveMembers",()=>h,"canViewAllOrgBookings",()=>i,"canViewOrgEarnings",()=>e])},36288,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},70731,a=>{"use strict";var b=a.i(59838),c=a.i(75557),d=a.i(54380),e=a.i(14650),f=a.i(74857);async function g(a,b,g){let h=await (0,c.createClient)();await (0,d.requireDetailer)();let i=await (0,e.getDetailerOrganization)();if(!i||i.id!==a)throw Error("Organization not found");let j=await (0,e.getOrganizationRole)(a);if(!(0,f.canManageOrgSettings)(j))throw Error("You do not have permission to update organization settings");let{error:k}=await h.from("organizations").update({name:b,description:g,updated_at:new Date().toISOString()}).eq("id",a);if(k)throw Error("Failed to update organization profile");return{success:!0}}async function h(a,b){let g=await (0,c.createClient)();await (0,d.requireDetailer)();let h=await (0,e.getOrganizationRole)(a);if(!(0,f.canManageOrgSettings)(h))throw Error("You do not have permission to manage service zones");let{data:i}=await g.from("organizations").select("service_area").eq("id",a).single(),j=[...i?.service_area||[],b],{error:k}=await g.from("organizations").update({service_area:j,updated_at:new Date().toISOString()}).eq("id",a);if(k)throw Error("Failed to add service zone");return{success:!0}}async function i(a,b){let g=await (0,c.createClient)();await (0,d.requireDetailer)();let h=await (0,e.getOrganizationRole)(a);if(!(0,f.canManageOrgSettings)(h))throw Error("You do not have permission to manage service zones");let{data:i}=await g.from("organizations").select("service_area").eq("id",a).single(),j=(i?.service_area||[]).filter((a,c)=>c!==b),{error:k}=await g.from("organizations").update({service_area:j,updated_at:new Date().toISOString()}).eq("id",a);if(k)throw Error("Failed to delete service zone");return{success:!0}}async function j(a,b){let g=await (0,c.createClient)();await (0,d.requireDetailer)();let h=await (0,e.getOrganizationRole)(a);if(!(0,f.canManageOrgSettings)(h))throw Error("You do not have permission to update business hours");let{error:i}=await g.from("organizations").update({business_hours:b,updated_at:new Date().toISOString()}).eq("id",a);if(i)throw Error("Failed to update business hours");return{success:!0}}(0,a.i(36288).ensureServerEntryExports)([g,h,i,j]),(0,b.registerServerReference)(g,"709b06963c171009acfd83a588612fc384c4a8e416",null),(0,b.registerServerReference)(h,"603770e5a48b96d8d00ad458991787563799043663",null),(0,b.registerServerReference)(i,"606f0f38e051e50ed1610101cd1cc4fb871c1aa6af",null),(0,b.registerServerReference)(j,"609e4d6aae7b1b9dc0545b679a0d56822f1b2d058d",null),a.s([],81359),a.i(81359),a.s(["603770e5a48b96d8d00ad458991787563799043663",()=>h,"606f0f38e051e50ed1610101cd1cc4fb871c1aa6af",()=>i,"709b06963c171009acfd83a588612fc384c4a8e416",()=>g],70731)}];

//# sourceMappingURL=cleanswift_web-dashboard_dc9db6fd._.js.map