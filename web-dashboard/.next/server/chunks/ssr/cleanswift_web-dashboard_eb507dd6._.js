module.exports=[40839,a=>{"use strict";function b(a){let b="string"==typeof a?parseFloat(a):a;return isNaN(b)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(b)}function c(a,b="short"){let d="string"==typeof a?new Date(a):a;return"time"===b?d.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):"long"===b?d.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):d.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}function d(a){switch(a){case"accepted":return"bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]";case"in_progress":return"bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]";case"completed":return"bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]";case"cancelled":case"no_show":return"bg-red-500/20 border-red-500/40 text-red-400";case"paid":case"offered":return"bg-yellow-500/20 border-yellow-500/40 text-yellow-400";default:return"bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]"}}function e(a){switch(a){case"paid":return"text-[#32CE7A]";case"processing":return"text-yellow-400";case"failed":case"refunded":return"text-red-400";default:return"text-[#C6CFD9]"}}function f(a,b){if("all"===b)return a;let c=new Date,d=new Date(c.getFullYear(),c.getMonth(),c.getDate());return a.filter(a=>{let c=a.scheduled_date?new Date(a.scheduled_date):a.scheduled_start?new Date(a.scheduled_start):null;if(!c)return!1;let e=new Date(c.getFullYear(),c.getMonth(),c.getDate());switch(b){case"today":return e.getTime()===d.getTime();case"tomorrow":let f=new Date(d);return f.setDate(f.getDate()+1),e.getTime()===f.getTime();case"this_week":let g=new Date(d);g.setDate(d.getDate()-d.getDay());let h=new Date(g);return h.setDate(g.getDate()+6),c>=g&&c<=h;case"this_month":return c.getMonth()===d.getMonth()&&c.getFullYear()===d.getFullYear();default:return!0}})}function g(a,b){let c=[...a];switch(b){case"time":return c.sort((a,b)=>{let c=a.scheduled_date||a.scheduled_start||"",d=b.scheduled_date||b.scheduled_start||"";return new Date(c).getTime()-new Date(d).getTime()});case"price":return c.sort((a,b)=>{let c=a.total_amount||a.service_price||0;return(b.total_amount||b.service_price||0)-c});case"distance":case"rating":default:return c;case"assignment":return c.sort((a,b)=>{let c=new Date(a.created_at||0).getTime();return new Date(b.created_at||0).getTime()-c})}}a.s(["filterBookingsByDateRange",()=>f,"formatCurrency",()=>b,"formatDate",()=>c,"getPaymentStatusColor",()=>e,"getStatusColor",()=>d,"sortBookings",()=>g])},49717,a=>{"use strict";var b=a.i(36679);function c({data:a,period:c}){if(0===a.length)return(0,b.jsx)("div",{className:"h-64 flex items-center justify-center text-[#C6CFD9]",children:"No earnings data available"});let d=Math.max(...a.map(a=>a.amount),0);return(0,b.jsxs)("div",{className:"h-64 relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-end justify-between gap-1",children:a.map((a,c)=>{let e=d>0?a.amount/d*100:0;return(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",children:[(0,b.jsx)("div",{className:"w-full bg-[#32CE7A] rounded-t transition-all hover:bg-[#6FF0C4] relative group",style:{height:`${e}%`},children:(0,b.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-[#0A1A2F] border border-white/5 rounded text-xs text-white opacity-0 group-hover:opacity-100 whitespace-nowrap",children:["$",a.amount.toFixed(2)]})}),(0,b.jsx)("div",{className:"text-xs text-[#C6CFD9] transform -rotate-45 origin-left whitespace-nowrap",children:new Date(a.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},c)})}),(0,b.jsxs)("div",{className:"absolute left-0 top-0 bottom-8 flex flex-col justify-between text-xs text-[#C6CFD9]",children:[(0,b.jsxs)("span",{children:["$",d.toFixed(0)]}),(0,b.jsxs)("span",{children:["$",Math.floor(d/2).toFixed(0)]}),(0,b.jsx)("span",{children:"$0"})]})]})}a.s(["default",()=>c])},8560,a=>{"use strict";var b=a.i(36679),c=a.i(2852),d=a.i(40839),e=a.i(49717);function f({grossRevenue:a,netRevenue:c,platformFee:e,totalJobs:f}){return(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Gross Revenue"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:(0,d.formatCurrency)(a)})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Net Revenue"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-[#32CE7A]",children:(0,d.formatCurrency)(c)})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Platform Fee"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(0,d.formatCurrency)(e)})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Total Jobs"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:f})]})]})}function g({teams:a}){return 0===a.length?(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Earnings Breakdown"}),(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"No team earnings data available"})]}):(a.reduce((a,b)=>a+(b.revenue/b.jobs||0),0),a.length,(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Earnings Breakdown"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/5",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Team"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Jobs"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Revenue"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Average"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:a.map((a,c)=>(0,b.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white font-medium",children:a.name}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:a.jobs}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,d.formatCurrency)(a.revenue)}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,d.formatCurrency)(a.jobs>0?a.revenue/a.jobs:0)})]},c))})]})})]}))}function h({batches:a}){return 0===a.length?(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Payout Batches"}),(0,b.jsx)("p",{className:"text-[#C6CFD9]",children:"No payout batches yet"})]}):(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Payout Batches"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/5",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Jobs"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Amount"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Status"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,d.formatDate)(a.batch_date,"short")}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:a.total_jobs}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,d.formatCurrency)(a.total_amount)}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${a.stripe_payout_id?"bg-[#32CE7A]/20 text-[#32CE7A]":"bg-yellow-500/20 text-yellow-400"}`,children:a.stripe_payout_id?"Paid":"Pending"})})]},a.id))})]})})]})}function i({earningsData:a,totalEarnings:i,pendingPayouts:j,mode:k="solo",orgEarnings:l,teamEarnings:m=[],payoutBatches:n=[]}){let[o,p]=(0,c.useState)("day"),q=a.slice(0,7).map(a=>({date:a.completed_at||a.scheduled_date||a.created_at,amount:a.total_amount||a.service_price||0})),r="organization"===k&&l;return(0,b.jsxs)("div",{className:"space-y-6",children:[r?(0,b.jsx)(f,{grossRevenue:l.grossRevenue,netRevenue:l.netRevenue,platformFee:l.platformFee,totalJobs:l.totalJobs}):(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Total Earnings"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-[#32CE7A]",children:(0,d.formatCurrency)(i)})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Pending Payouts"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-yellow-400",children:(0,d.formatCurrency)(j)})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("div",{className:"text-[#C6CFD9] text-sm mb-2",children:"Next Payout"}),(0,b.jsx)("div",{className:"text-lg font-semibold text-[#C6CFD9]",children:"TBD (Stripe Connect)"})]})]}),r&&m.length>0&&(0,b.jsx)(g,{teams:m}),r&&n.length>0&&(0,b.jsx)(h,{batches:n}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Earnings Overview"}),(0,b.jsx)(e.default,{data:q,period:o})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white mb-4",children:"Earnings Breakdown"}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/5",children:[(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Date"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Job ID"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Service"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Customer"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Amount"}),(0,b.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase",children:"Payout"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:a.map(a=>{let c=a.total_amount||a.service_price||0;return(0,b.jsxs)("tr",{className:"hover:bg-white/5",children:[(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,d.formatDate)(a.completed_at||a.scheduled_date,"short")}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-[#C6CFD9] font-mono",children:a.receipt_id}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:a.service?.name||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:a.user?.full_name||"N/A"}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-white",children:(0,d.formatCurrency)(c)}),(0,b.jsx)("td",{className:"px-4 py-3 text-sm text-[#32CE7A] font-semibold",children:(0,d.formatCurrency)(.9*c)})]},a.id)})})]}),0===a.length&&(0,b.jsx)("div",{className:"text-center py-12 text-[#C6CFD9]",children:"No earnings yet"})]})]})]})}a.s(["default",()=>i],8560)}];

//# sourceMappingURL=cleanswift_web-dashboard_eb507dd6._.js.map