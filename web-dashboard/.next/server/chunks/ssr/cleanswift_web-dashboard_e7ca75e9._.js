module.exports=[61535,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={callServer:function(){return f.callServer},createServerReference:function(){return h.createServerReference},findSourceMapURL:function(){return g.findSourceMapURL}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(9753),g=a.r(47739),h=a.r(79085)},72359,66823,15956,89387,a=>{"use strict";var b=a.i(61535),c=(0,b.createServerReference)("70441f92eace9f5c95172795179a39e8de3e56cc9c",b.callServer,void 0,b.findSourceMapURL,"updateMemberRole");a.s(["updateMemberRole",()=>c],72359);var d=(0,b.createServerReference)("60cbe5e04c6b41e452e03d4194f480e00fc61fb53d",b.callServer,void 0,b.findSourceMapURL,"suspendMember");a.s(["suspendMember",()=>d],66823);var e=(0,b.createServerReference)("60130a1205b9140401be37ca750477dc5af6567516",b.callServer,void 0,b.findSourceMapURL,"activateMember");a.s(["activateMember",()=>e],15956);var f=(0,b.createServerReference)("60aa0c9c4e959f5cdd05e33b980a52df99e7636d8e",b.callServer,void 0,b.findSourceMapURL,"removeMember");a.s(["removeMember",()=>f],89387)},34267,a=>{"use strict";var b=a.i(36679),c=a.i(2852),d=a.i(35816),e=a.i(11884),f=a.i(18520),g=a.i(61535),h=(0,g.createServerReference)("70d670d5b7c33656d329e209464ed2fd2b18b59873",g.callServer,void 0,g.findSourceMapURL,"inviteMember");function i({isOpen:a,onClose:d,organizationId:e,onInvited:f}){let[g,i]=(0,c.useState)(""),[j,k]=(0,c.useState)("detailer"),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),p=async a=>{a.preventDefault(),o(null),m(!0);try{await h(e,g,j),i(""),k("detailer"),f(),d()}catch(a){o(a.message||"Failed to invite member")}finally{m(!1)}};return a?(0,b.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:d}),(0,b.jsxs)("div",{className:"relative z-10 w-full max-w-md mx-4 bg-[#0A1A2F] border border-white/5 rounded-xl shadow-xl",children:[(0,b.jsx)("div",{className:"p-6 border-b border-white/5",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Invite Member"}),(0,b.jsx)("button",{onClick:d,className:"text-[#C6CFD9] hover:text-white transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,b.jsxs)("form",{onSubmit:p,className:"p-6",children:[n&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/40 rounded-lg text-red-400 text-sm",children:n}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-white mb-2",children:"Email Address"}),(0,b.jsx)("input",{type:"email",id:"email",value:g,onChange:a=>i(a.target.value),required:!0,placeholder:"member@example.com",className:"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white placeholder-[#C6CFD9] focus:outline-none focus:border-[#32CE7A]/40"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-[#C6CFD9]",children:"User must already have an account with this email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"role",className:"block text-sm font-medium text-white mb-2",children:"Role"}),(0,b.jsxs)("select",{id:"role",value:j,onChange:a=>k(a.target.value),className:"w-full px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white focus:outline-none focus:border-[#32CE7A]/40",children:[(0,b.jsx)("option",{value:"detailer",children:"Detailer"}),(0,b.jsx)("option",{value:"dispatcher",children:"Dispatcher"}),(0,b.jsx)("option",{value:"manager",children:"Manager"}),(0,b.jsx)("option",{value:"owner",children:"Owner"})]}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-[#C6CFD9]",children:["owner"===j&&"Owners have full access to all organization features","manager"===j&&"Managers can manage teams, members, and bookings","dispatcher"===j&&"Dispatchers can assign jobs and manage schedules","detailer"===j&&"Detailers can view and complete assigned jobs"]})]})]}),(0,b.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 bg-[#050B12] border border-white/5 rounded-lg text-white hover:border-white/10 transition-colors",children:"Cancel"}),(0,b.jsx)("button",{type:"submit",disabled:l||!g,className:"px-4 py-2 bg-[#32CE7A] hover:bg-[#2AB869] text-white font-semibold rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Inviting...":"Send Invitation"})]})]})]})]}):null}a.i(72359);var j=a.i(66823),k=a.i(15956),l=a.i(89387);function m({initialMembers:a,organizationId:g,canManageMembers:h,canChangeRoles:m}){let[n,o]=(0,c.useState)(a),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null);(0,d.createClient)();let v=(0,e.useRouter)(),w=async a=>{if(confirm("Are you sure you want to suspend this member?")){u(a);try{await (0,j.suspendMember)(g,a),v.refresh()}catch(a){alert(a.message||"Failed to suspend member")}finally{u(null)}}},x=async a=>{u(a);try{await (0,k.activateMember)(g,a),v.refresh()}catch(a){alert(a.message||"Failed to activate member")}finally{u(null)}},y=async a=>{if(confirm("Are you sure you want to remove this member from the organization?")){u(a);try{await (0,l.removeMember)(g,a),v.refresh()}catch(a){alert(a.message||"Failed to remove member")}finally{u(null)}}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Organization Members"}),h&&(0,b.jsx)("button",{className:"px-4 py-2 bg-[#32CE7A] hover:bg-[#2AB869] text-white font-semibold rounded-lg transition-colors",onClick:()=>s(!0),children:"+ Invite Member"})]}),0===n.length?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-[#C6CFD9] mb-4",children:"No members found"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/5",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Name"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Email"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Role"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Status"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Joined"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 text-sm font-semibold text-[#C6CFD9]",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:n.map(a=>(0,b.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("div",{className:"font-medium text-white",children:a.full_name})}),(0,b.jsx)("td",{className:"py-3 px-4 text-[#C6CFD9]",children:a.email}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium border ${(a=>{switch(a){case"owner":return"bg-purple-500/20 text-purple-400 border-purple-500/40";case"manager":return"bg-blue-500/20 text-blue-400 border-blue-500/40";case"dispatcher":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/40";case"detailer":return"bg-[#32CE7A]/20 text-[#32CE7A] border-[#32CE7A]/40";default:return"bg-gray-500/20 text-gray-400 border-gray-500/40"}})(a.role)}`,children:a.role.charAt(0).toUpperCase()+a.role.slice(1)})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("span",{className:`inline-block px-2 py-1 rounded text-xs font-medium ${a.is_active?"bg-[#32CE7A]/20 text-[#32CE7A]":"bg-red-500/20 text-red-400"}`,children:a.is_active?"Active":"Inactive"})}),(0,b.jsx)("td",{className:"py-3 px-4 text-[#C6CFD9] text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"py-3 px-4 text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,b.jsx)(f.default,{href:`/detailer/members/${a.profile_id}`,className:"text-[#32CE7A] hover:text-[#6FF0C4] text-sm font-medium",children:"View â†’"}),h&&(0,b.jsxs)(b.Fragment,{children:[!a.is_active&&(0,b.jsx)("button",{onClick:()=>x(a.profile_id),disabled:t===a.profile_id,className:"text-xs px-2 py-1 bg-[#32CE7A]/20 text-[#32CE7A] rounded hover:bg-[#32CE7A]/30 disabled:opacity-50",children:"Activate"}),a.is_active&&"owner"!==a.role&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>w(a.profile_id),disabled:t===a.profile_id,className:"text-xs px-2 py-1 bg-yellow-500/20 text-yellow-400 rounded hover:bg-yellow-500/30 disabled:opacity-50",children:"Suspend"}),(0,b.jsx)("button",{onClick:()=>y(a.profile_id),disabled:t===a.profile_id,className:"text-xs px-2 py-1 bg-red-500/20 text-red-400 rounded hover:bg-red-500/30 disabled:opacity-50",children:"Remove"})]})]})]})})]},a.id))})]})})]}),(0,b.jsxs)("div",{className:"bg-[#0A1A2F] border border-white/5 rounded-xl p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"About Roles"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-[#C6CFD9]",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{className:"text-purple-400",children:"Owner:"})," Full access, can manage everything"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{className:"text-blue-400",children:"Manager:"})," Can manage teams, members, and bookings"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{className:"text-yellow-400",children:"Dispatcher:"})," Can assign jobs and manage schedule"]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{className:"text-[#32CE7A]",children:"Detailer:"})," Can view and complete assigned jobs"]})]}),(0,b.jsxs)("p",{className:"text-[#C6CFD9] text-sm mt-4",children:[(0,b.jsx)("strong",{children:"Note:"})," Full member management features (invite, change roles, remove) will be available in Phase 3."]})]}),(0,b.jsx)(i,{isOpen:r,onClose:()=>s(!1),organizationId:g,onInvited:()=>{v.refresh()}})]})}a.s(["default",()=>m],34267)}];

//# sourceMappingURL=cleanswift_web-dashboard_e7ca75e9._.js.map