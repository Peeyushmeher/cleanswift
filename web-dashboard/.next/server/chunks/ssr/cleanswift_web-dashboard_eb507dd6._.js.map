{"version":3,"sources":["../../../../../../cleanswift/web-dashboard/lib/detailer/dashboard-utils.ts","../../../../../../cleanswift/web-dashboard/components/detailer/EarningsChart.tsx","../../../../../../cleanswift/web-dashboard/app/detailer/earnings/EarningsPageClient.tsx","../../../../../../cleanswift/web-dashboard/components/detailer/OrgEarningsSummary.tsx","../../../../../../cleanswift/web-dashboard/components/detailer/TeamEarningsBreakdown.tsx","../../../../../../cleanswift/web-dashboard/components/detailer/PayoutBatches.tsx"],"sourcesContent":["// Utility functions for Detailer Dashboard\n\n/**\n * Format a number as currency\n */\nexport function formatCurrency(amount: number | string): string {\n  const num = typeof amount === 'string' ? parseFloat(amount) : amount;\n  if (isNaN(num)) return '$0.00';\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(num);\n}\n\n/**\n * Format a date string to a readable format\n */\nexport function formatDate(date: string | Date, format: 'short' | 'long' | 'time' = 'short'): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  if (format === 'time') {\n    return d.toLocaleTimeString('en-US', { \n      hour: 'numeric', \n      minute: '2-digit',\n      hour12: true \n    });\n  }\n  \n  if (format === 'long') {\n    return d.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  }\n  \n  return d.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\n/**\n * Format a date and time together\n */\nexport function formatDateTime(date: string, time: string): string {\n  const dateObj = new Date(`${date}T${time}`);\n  return formatDate(dateObj, 'long');\n}\n\n/**\n * Calculate total earnings from bookings\n */\nexport function calculateEarnings(bookings: Array<{ total_amount?: number; service_price?: number }>): number {\n  return bookings.reduce((sum, booking) => {\n    const amount = booking.total_amount || booking.service_price || 0;\n    return sum + (typeof amount === 'string' ? parseFloat(amount) : amount);\n  }, 0);\n}\n\n/**\n * Calculate distance between two coordinates (Haversine formula)\n * Returns distance in kilometers\n */\nexport function calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Radius of the Earth in kilometers\n  const dLat = toRad(lat2 - lat1);\n  const dLon = toRad(lon2 - lon1);\n  \n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) *\n      Math.cos(toRad(lat2)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  \n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  const distance = R * c;\n  \n  return Math.round(distance * 10) / 10; // Round to 1 decimal place\n}\n\n/**\n * Convert degrees to radians\n */\nfunction toRad(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\n/**\n * Format distance with unit\n */\nexport function formatDistance(km: number): string {\n  if (km < 1) {\n    return `${Math.round(km * 1000)}m`;\n  }\n  return `${km}km`;\n}\n\n/**\n * Get status color class\n */\nexport function getStatusColor(status: string): string {\n  switch (status) {\n    case 'accepted':\n      return 'bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]';\n    case 'in_progress':\n      return 'bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]';\n    case 'completed':\n      return 'bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]';\n    case 'cancelled':\n    case 'no_show':\n      return 'bg-red-500/20 border-red-500/40 text-red-400';\n    case 'paid':\n    case 'offered':\n      return 'bg-yellow-500/20 border-yellow-500/40 text-yellow-400';\n    default:\n      return 'bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]';\n  }\n}\n\n/**\n * Get payment status color class\n */\nexport function getPaymentStatusColor(status: string): string {\n  switch (status) {\n    case 'paid':\n      return 'text-[#32CE7A]';\n    case 'processing':\n      return 'text-yellow-400';\n    case 'failed':\n    case 'refunded':\n      return 'text-red-400';\n    default:\n      return 'text-[#C6CFD9]';\n  }\n}\n\n/**\n * Filter bookings by date range\n */\nexport function filterBookingsByDateRange(\n  bookings: Array<{ scheduled_date?: string; scheduled_start?: string }>,\n  range: 'today' | 'tomorrow' | 'this_week' | 'this_month' | 'all'\n): Array<any> {\n  if (range === 'all') return bookings;\n  \n  const now = new Date();\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n  \n  return bookings.filter((booking) => {\n    const bookingDate = booking.scheduled_date \n      ? new Date(booking.scheduled_date)\n      : booking.scheduled_start \n      ? new Date(booking.scheduled_start)\n      : null;\n    \n    if (!bookingDate) return false;\n    \n    const bookingDateOnly = new Date(\n      bookingDate.getFullYear(),\n      bookingDate.getMonth(),\n      bookingDate.getDate()\n    );\n    \n    switch (range) {\n      case 'today':\n        return bookingDateOnly.getTime() === today.getTime();\n      \n      case 'tomorrow':\n        const tomorrow = new Date(today);\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        return bookingDateOnly.getTime() === tomorrow.getTime();\n      \n      case 'this_week':\n        const weekStart = new Date(today);\n        weekStart.setDate(today.getDate() - today.getDay());\n        const weekEnd = new Date(weekStart);\n        weekEnd.setDate(weekStart.getDate() + 6);\n        return bookingDate >= weekStart && bookingDate <= weekEnd;\n      \n      case 'this_month':\n        return (\n          bookingDate.getMonth() === today.getMonth() &&\n          bookingDate.getFullYear() === today.getFullYear()\n        );\n      \n      default:\n        return true;\n    }\n  });\n}\n\n/**\n * Sort bookings\n */\nexport function sortBookings(\n  bookings: Array<any>,\n  sortBy: 'time' | 'distance' | 'price' | 'rating' | 'assignment'\n): Array<any> {\n  const sorted = [...bookings];\n  \n  switch (sortBy) {\n    case 'time':\n      return sorted.sort((a, b) => {\n        const dateA = a.scheduled_date || a.scheduled_start || '';\n        const dateB = b.scheduled_date || b.scheduled_start || '';\n        return new Date(dateA).getTime() - new Date(dateB).getTime();\n      });\n    \n    case 'price':\n      return sorted.sort((a, b) => {\n        const priceA = a.total_amount || a.service_price || 0;\n        const priceB = b.total_amount || b.service_price || 0;\n        return priceB - priceA;\n      });\n    \n    case 'distance':\n      // This would require current location\n      return sorted;\n    \n    case 'rating':\n      // This would require customer rating\n      return sorted;\n    \n    case 'assignment':\n      return sorted.sort((a, b) => {\n        const dateA = new Date(a.created_at || 0).getTime();\n        const dateB = new Date(b.created_at || 0).getTime();\n        return dateB - dateA;\n      });\n    \n    default:\n      return sorted;\n  }\n}\n\n","'use client';\n\ninterface EarningsData {\n  date: string;\n  amount: number;\n}\n\ninterface EarningsChartProps {\n  data: EarningsData[];\n  period: 'day' | 'week' | 'month';\n}\n\nexport default function EarningsChart({ data, period }: EarningsChartProps) {\n  if (data.length === 0) {\n    return (\n      <div className=\"h-64 flex items-center justify-center text-[#C6CFD9]\">\n        No earnings data available\n      </div>\n    );\n  }\n\n  const maxAmount = Math.max(...data.map(d => d.amount), 0);\n\n  return (\n    <div className=\"h-64 relative\">\n      <div className=\"absolute inset-0 flex items-end justify-between gap-1\">\n        {data.map((item, index) => {\n          const height = maxAmount > 0 ? (item.amount / maxAmount) * 100 : 0;\n          return (\n            <div\n              key={index}\n              className=\"flex-1 flex flex-col items-center gap-1\"\n            >\n              <div\n                className=\"w-full bg-[#32CE7A] rounded-t transition-all hover:bg-[#6FF0C4] relative group\"\n                style={{ height: `${height}%` }}\n              >\n                <div className=\"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-2 py-1 bg-[#0A1A2F] border border-white/5 rounded text-xs text-white opacity-0 group-hover:opacity-100 whitespace-nowrap\">\n                  ${item.amount.toFixed(2)}\n                </div>\n              </div>\n              <div className=\"text-xs text-[#C6CFD9] transform -rotate-45 origin-left whitespace-nowrap\">\n                {new Date(item.date).toLocaleDateString('en-US', {\n                  month: 'short',\n                  day: 'numeric',\n                })}\n              </div>\n            </div>\n          );\n        })}\n      </div>\n      {/* Y-axis labels */}\n      <div className=\"absolute left-0 top-0 bottom-8 flex flex-col justify-between text-xs text-[#C6CFD9]\">\n        <span>${maxAmount.toFixed(0)}</span>\n        <span>${Math.floor(maxAmount / 2).toFixed(0)}</span>\n        <span>$0</span>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { useState } from 'react';\nimport { formatCurrency, formatDate } from '@/lib/detailer/dashboard-utils';\nimport EarningsChart from '@/components/detailer/EarningsChart';\nimport OrgEarningsSummary from '@/components/detailer/OrgEarningsSummary';\nimport TeamEarningsBreakdown from '@/components/detailer/TeamEarningsBreakdown';\nimport PayoutBatches from '@/components/detailer/PayoutBatches';\n\ninterface EarningsPageClientProps {\n  earningsData: any[];\n  totalEarnings: number;\n  pendingPayouts: number;\n  mode?: 'solo' | 'organization';\n  orgEarnings?: {\n    grossRevenue: number;\n    netRevenue: number;\n    platformFee: number;\n    totalJobs: number;\n  } | null;\n  teamEarnings?: Array<{ name: string; revenue: number; jobs: number }>;\n  payoutBatches?: any[];\n}\n\nexport default function EarningsPageClient({\n  earningsData,\n  totalEarnings,\n  pendingPayouts,\n  mode = 'solo',\n  orgEarnings,\n  teamEarnings = [],\n  payoutBatches = [],\n}: EarningsPageClientProps) {\n  const [period, setPeriod] = useState<'day' | 'week' | 'month'>('day');\n\n  // Prepare chart data\n  const chartData = earningsData.slice(0, 7).map((booking) => ({\n    date: booking.completed_at || booking.scheduled_date || booking.created_at,\n    amount: booking.total_amount || booking.service_price || 0,\n  }));\n\n  const isOrgMode = mode === 'organization' && orgEarnings;\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Summary Cards */}\n      {isOrgMode ? (\n        <OrgEarningsSummary\n          grossRevenue={orgEarnings.grossRevenue}\n          netRevenue={orgEarnings.netRevenue}\n          platformFee={orgEarnings.platformFee}\n          totalJobs={orgEarnings.totalJobs}\n        />\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n          <div className=\"text-[#C6CFD9] text-sm mb-2\">Total Earnings</div>\n          <div className=\"text-3xl font-bold text-[#32CE7A]\">\n            {formatCurrency(totalEarnings)}\n          </div>\n        </div>\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n          <div className=\"text-[#C6CFD9] text-sm mb-2\">Pending Payouts</div>\n          <div className=\"text-3xl font-bold text-yellow-400\">\n            {formatCurrency(pendingPayouts)}\n          </div>\n        </div>\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n          <div className=\"text-[#C6CFD9] text-sm mb-2\">Next Payout</div>\n          <div className=\"text-lg font-semibold text-[#C6CFD9]\">\n            TBD (Stripe Connect)\n          </div>\n        </div>\n        </div>\n      )}\n\n      {/* Team Earnings Breakdown (Org Mode) */}\n      {isOrgMode && teamEarnings.length > 0 && (\n        <TeamEarningsBreakdown teams={teamEarnings} />\n      )}\n\n      {/* Payout Batches (Org Mode) */}\n      {isOrgMode && payoutBatches.length > 0 && (\n        <PayoutBatches batches={payoutBatches} />\n      )}\n\n      {/* Earnings Chart */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Earnings Overview</h2>\n        <EarningsChart data={chartData} period={period} />\n      </div>\n\n      {/* Earnings Table */}\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Earnings Breakdown</h2>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full\">\n            <thead>\n              <tr className=\"border-b border-white/5\">\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Date\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Job ID\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Service\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Customer\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Amount\n                </th>\n                <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                  Payout\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-white/5\">\n              {earningsData.map((booking) => {\n                const amount = booking.total_amount || booking.service_price || 0;\n                const payout = amount * 0.9; // 10% platform fee\n                return (\n                  <tr key={booking.id} className=\"hover:bg-white/5\">\n                    <td className=\"px-4 py-3 text-sm text-white\">\n                      {formatDate(booking.completed_at || booking.scheduled_date, 'short')}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-[#C6CFD9] font-mono\">\n                      {booking.receipt_id}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-white\">\n                      {booking.service?.name || 'N/A'}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-white\">\n                      {booking.user?.full_name || 'N/A'}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-white\">\n                      {formatCurrency(amount)}\n                    </td>\n                    <td className=\"px-4 py-3 text-sm text-[#32CE7A] font-semibold\">\n                      {formatCurrency(payout)}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n          {earningsData.length === 0 && (\n            <div className=\"text-center py-12 text-[#C6CFD9]\">\n              No earnings yet\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { formatCurrency } from '@/lib/detailer/dashboard-utils';\n\ninterface OrgEarningsSummaryProps {\n  grossRevenue: number;\n  netRevenue: number;\n  platformFee: number;\n  totalJobs: number;\n}\n\nexport default function OrgEarningsSummary({\n  grossRevenue,\n  netRevenue,\n  platformFee,\n  totalJobs,\n}: OrgEarningsSummaryProps) {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <div className=\"text-[#C6CFD9] text-sm mb-2\">Gross Revenue</div>\n        <div className=\"text-3xl font-bold text-white\">{formatCurrency(grossRevenue)}</div>\n      </div>\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <div className=\"text-[#C6CFD9] text-sm mb-2\">Net Revenue</div>\n        <div className=\"text-3xl font-bold text-[#32CE7A]\">{formatCurrency(netRevenue)}</div>\n      </div>\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <div className=\"text-[#C6CFD9] text-sm mb-2\">Platform Fee</div>\n        <div className=\"text-3xl font-bold text-yellow-400\">{formatCurrency(platformFee)}</div>\n      </div>\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <div className=\"text-[#C6CFD9] text-sm mb-2\">Total Jobs</div>\n        <div className=\"text-3xl font-bold text-white\">{totalJobs}</div>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { formatCurrency } from '@/lib/detailer/dashboard-utils';\nimport Link from 'next/link';\n\ninterface TeamEarnings {\n  name: string;\n  revenue: number;\n  jobs: number;\n}\n\ninterface TeamEarningsBreakdownProps {\n  teams: TeamEarnings[];\n}\n\nexport default function TeamEarningsBreakdown({ teams }: TeamEarningsBreakdownProps) {\n  if (teams.length === 0) {\n    return (\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Team Earnings Breakdown</h2>\n        <p className=\"text-[#C6CFD9]\">No team earnings data available</p>\n      </div>\n    );\n  }\n\n  const averagePerJob = teams.reduce((sum, t) => sum + (t.revenue / t.jobs || 0), 0) / teams.length;\n\n  return (\n    <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n      <h2 className=\"text-xl font-semibold text-white mb-4\">Team Earnings Breakdown</h2>\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"border-b border-white/5\">\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Team\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Jobs\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Revenue\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Average\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-white/5\">\n            {teams.map((team, idx) => (\n              <tr key={idx} className=\"hover:bg-white/5\">\n                <td className=\"px-4 py-3 text-sm text-white font-medium\">{team.name}</td>\n                <td className=\"px-4 py-3 text-sm text-white\">{team.jobs}</td>\n                <td className=\"px-4 py-3 text-sm text-[#32CE7A] font-semibold\">\n                  {formatCurrency(team.revenue)}\n                </td>\n                <td className=\"px-4 py-3 text-sm text-white\">\n                  {formatCurrency(team.jobs > 0 ? team.revenue / team.jobs : 0)}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\n","'use client';\n\nimport { formatCurrency, formatDate } from '@/lib/detailer/dashboard-utils';\n\ninterface PayoutBatch {\n  id: string;\n  batch_date: string;\n  total_jobs: number;\n  total_amount: number;\n  stripe_payout_id: string | null;\n  created_at: string;\n}\n\ninterface PayoutBatchesProps {\n  batches: PayoutBatch[];\n}\n\nexport default function PayoutBatches({ batches }: PayoutBatchesProps) {\n  if (batches.length === 0) {\n    return (\n      <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n        <h2 className=\"text-xl font-semibold text-white mb-4\">Payout Batches</h2>\n        <p className=\"text-[#C6CFD9]\">No payout batches yet</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n      <h2 className=\"text-xl font-semibold text-white mb-4\">Payout Batches</h2>\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead>\n            <tr className=\"border-b border-white/5\">\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Date\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Jobs\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Amount\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-semibold text-[#C6CFD9] uppercase\">\n                Status\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"divide-y divide-white/5\">\n            {batches.map((batch) => (\n              <tr key={batch.id} className=\"hover:bg-white/5\">\n                <td className=\"px-4 py-3 text-sm text-white\">\n                  {formatDate(batch.batch_date, 'short')}\n                </td>\n                <td className=\"px-4 py-3 text-sm text-white\">{batch.total_jobs}</td>\n                <td className=\"px-4 py-3 text-sm text-[#32CE7A] font-semibold\">\n                  {formatCurrency(batch.total_amount)}\n                </td>\n                <td className=\"px-4 py-3 text-sm\">\n                  <span\n                    className={`px-2 py-1 rounded text-xs font-medium ${\n                      batch.stripe_payout_id\n                        ? 'bg-[#32CE7A]/20 text-[#32CE7A]'\n                        : 'bg-yellow-500/20 text-yellow-400'\n                    }`}\n                  >\n                    {batch.stripe_payout_id ? 'Paid' : 'Pending'}\n                  </span>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}