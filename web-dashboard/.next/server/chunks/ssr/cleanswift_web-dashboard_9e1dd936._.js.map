{"version":3,"sources":["../../../../../../cleanswift/web-dashboard/app/detailer/dashboard/CalendarView.tsx/__nextjs-internal-proxy.mjs","../../../../../../cleanswift/web-dashboard/components/detailer/EarningsChart.tsx/__nextjs-internal-proxy.mjs","../../../../../../cleanswift/web-dashboard/app/detailer/dashboard/page.tsx","../../../../../../cleanswift/web-dashboard/components/detailer/StatsGrid.tsx","../../../../../../cleanswift/web-dashboard/lib/detailer/dashboard-utils.ts","../../../../../../cleanswift/web-dashboard/components/ui/StatusBadge.tsx","../../../../../../cleanswift/web-dashboard/components/detailer/TodaysJobsList.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/cleanswift/web-dashboard/app/detailer/dashboard/CalendarView.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cleanswift/web-dashboard/app/detailer/dashboard/CalendarView.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/cleanswift/web-dashboard/components/detailer/EarningsChart.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/cleanswift/web-dashboard/components/detailer/EarningsChart.tsx\",\n    \"default\",\n);\n","import { requireDetailer, getDetailerMode } from '@/lib/auth';\nimport { createClient } from '@/lib/supabase/server';\nimport Link from 'next/link';\nimport CalendarView from './CalendarView';\nimport StatsGrid from '@/components/detailer/StatsGrid';\nimport TodaysJobsList from '@/components/detailer/TodaysJobsList';\nimport EarningsChart from '@/components/detailer/EarningsChart';\nimport { filterBookingsByDateRange, calculateEarnings, formatCurrency } from '@/lib/detailer/dashboard-utils';\nimport { getDetailerOrganization, getOrganizationRole } from '@/lib/detailer/mode-detection';\n\nexport default async function DetailerDashboardPage() {\n  const profile = await requireDetailer();\n  const supabase = await createClient();\n  const mode = await getDetailerMode();\n  const organization = mode === 'organization' ? await getDetailerOrganization() : null;\n  const orgRole = organization ? await getOrganizationRole(organization.id) : null;\n\n  // Get detailer record\n  const { data: detailerData } = await supabase.rpc('get_detailer_by_profile', {\n    p_profile_id: null,\n  });\n\n  let myBookings: any[] = [];\n  let orgBookings: any[] = [];\n  let availabilitySlots: any[] = [];\n  let filteredBookings: any[] = [];\n  let todaysBookings: any[] = [];\n  let stats = {\n    upcoming: 0,\n    inProgress: 0,\n    completed: 0,\n    totalEarnings: 0,\n  };\n  let orgStats = {\n    totalJobs: 0,\n    activeDetailers: 0,\n    teams: 0,\n    totalRevenue: 0,\n  };\n  let earningsData: Array<{ date: string; amount: number }> = [];\n  let rating = 0;\n  let reviewCount = 0;\n  let issues: Array<{ type: string; message: string; bookingId?: string }> = [];\n\n  if (detailerData?.id) {\n    // Get bookings based on mode\n    if (mode === 'organization' && organization) {\n      // Organization mode: Get all org bookings (if manager/dispatcher/owner)\n      if (orgRole && ['owner', 'manager', 'dispatcher'].includes(orgRole)) {\n        const { data: bookings } = await supabase\n          .from('bookings')\n          .select(\n            `\n            id,\n            receipt_id,\n            status,\n            payment_status,\n            scheduled_date,\n            scheduled_time_start,\n            scheduled_time_end,\n            scheduled_start,\n            scheduled_end,\n            total_amount,\n            organization_id,\n            team_id,\n            detailer_id,\n            service:service_id (id, name, price, duration_minutes),\n            car:car_id (id, make, model, year, license_plate),\n            user:user_id (id, full_name, phone, email),\n            detailer:detailers (id, full_name),\n            address_line1,\n            city,\n            province,\n            postal_code\n          `\n          )\n          .eq('organization_id', organization.id)\n          .in('status', ['accepted', 'in_progress', 'completed', 'scheduled'])\n          .order('scheduled_date', { ascending: true })\n          .order('scheduled_time_start', { ascending: true });\n\n        orgBookings = bookings || [];\n        \n        // Also get own bookings for personal view\n        const { data: myBookingsData } = await supabase\n          .from('bookings')\n          .select('*')\n          .eq('detailer_id', detailerData.id)\n          .in('status', ['accepted', 'in_progress', 'completed']);\n\n        myBookings = myBookingsData || [];\n\n        // Calculate org stats\n        orgStats.totalJobs = orgBookings.length;\n        orgStats.totalRevenue = orgBookings\n          .filter((b) => b.status === 'completed')\n          .reduce((sum, b) => sum + (b.total_amount || 0), 0);\n\n        // Get active detailers count\n        const { data: activeDetailers } = await supabase\n          .from('organization_members')\n          .select('id')\n          .eq('organization_id', organization.id)\n          .eq('is_active', true)\n          .eq('role', 'detailer');\n\n        orgStats.activeDetailers = activeDetailers?.length || 0;\n\n        // Get teams count\n        const { data: teams } = await supabase\n          .from('teams')\n          .select('id')\n          .eq('organization_id', organization.id)\n          .eq('is_active', true);\n\n        orgStats.teams = teams?.length || 0;\n\n        // Check for issues (late jobs, unassigned jobs)\n        const now = new Date();\n        issues = orgBookings\n          .filter((b) => {\n            if (b.status === 'scheduled' && !b.detailer_id) {\n              return true; // Unassigned job\n            }\n            if (b.scheduled_start) {\n              const scheduledTime = new Date(b.scheduled_start);\n              if (scheduledTime < now && ['scheduled', 'accepted'].includes(b.status)) {\n                return true; // Late job\n              }\n            }\n            return false;\n          })\n          .map((b) => ({\n            type: !b.detailer_id ? 'unassigned' : 'late',\n            message: !b.detailer_id\n              ? `Job ${b.receipt_id} needs assignment`\n              : `Job ${b.receipt_id} is running late`,\n            bookingId: b.id,\n          }))\n          .slice(0, 5); // Limit to 5 issues\n      } else {\n        // Detailer in org: only see own bookings\n        const { data: bookings } = await supabase\n          .from('bookings')\n          .select(\n            `\n            id,\n            receipt_id,\n            status,\n            payment_status,\n            scheduled_date,\n            scheduled_time_start,\n            scheduled_time_end,\n            scheduled_start,\n            scheduled_end,\n            total_amount,\n            service:service_id (id, name, price, duration_minutes),\n            car:car_id (id, make, model, year, license_plate),\n            user:user_id (id, full_name, phone, email),\n            address_line1,\n            city,\n            province,\n            postal_code\n          `\n          )\n          .eq('detailer_id', detailerData.id)\n          .in('status', ['accepted', 'in_progress', 'completed'])\n          .order('scheduled_date', { ascending: true })\n          .order('scheduled_time_start', { ascending: true });\n\n        myBookings = bookings || [];\n      }\n    } else {\n      // Solo mode: Get own bookings only\n      const { data: bookings } = await supabase\n        .from('bookings')\n        .select(\n          `\n          id,\n          receipt_id,\n          status,\n          payment_status,\n          scheduled_date,\n          scheduled_time_start,\n          scheduled_time_end,\n          scheduled_start,\n          scheduled_end,\n          total_amount,\n          service:service_id (id, name, price, duration_minutes),\n          car:car_id (id, make, model, year, license_plate),\n          user:user_id (id, full_name, phone, email),\n          address_line1,\n          city,\n          province,\n          postal_code\n        `\n        )\n        .eq('detailer_id', detailerData.id)\n        .in('status', ['accepted', 'in_progress', 'completed'])\n        .order('scheduled_date', { ascending: true })\n        .order('scheduled_time_start', { ascending: true });\n\n      myBookings = bookings || [];\n    }\n\n    // Get detailer availability\n    const { data: availability } = await supabase\n      .from('detailer_availability')\n      .select('*')\n      .eq('detailer_id', detailerData.id)\n      .eq('is_active', true);\n\n    availabilitySlots = availability || [];\n\n    // Filter bookings to only show those within availability windows\n    filteredBookings = myBookings.filter((booking) => {\n      if (!booking.scheduled_date || !booking.scheduled_time_start) return false;\n\n      // Get day of week (0=Sunday, 1=Monday, ..., 6=Saturday)\n      const bookingDate = new Date(booking.scheduled_date);\n      const dayOfWeek = bookingDate.getDay();\n\n      // Find matching availability slot\n      const matchingSlot = availabilitySlots.find(\n        (slot) => slot.day_of_week === dayOfWeek\n      );\n\n      if (!matchingSlot) return false;\n\n      // Check if booking time falls within availability window\n      const bookingStartTime = booking.scheduled_time_start;\n      const bookingEndTime = booking.scheduled_time_end || booking.scheduled_time_start;\n\n      // Compare times (format: HH:MM:SS)\n      const slotStart = matchingSlot.start_time;\n      const slotEnd = matchingSlot.end_time;\n\n      // Convert to comparable format\n      const bookingStart = bookingStartTime.substring(0, 5); // HH:MM\n      const bookingEnd = bookingEndTime.substring(0, 5); // HH:MM\n      const slotStartTime = slotStart.substring(0, 5); // HH:MM\n      const slotEndTime = slotEnd.substring(0, 5); // HH:MM\n\n      // Check if booking time is within availability window\n      return bookingStart >= slotStartTime && bookingEnd <= slotEndTime;\n    });\n\n    // Calculate stats from bookings (use org bookings if in org mode with permissions)\n    const bookingsForStats = mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings;\n    \n    stats.upcoming = bookingsForStats.filter((b) => b.status === 'accepted' || b.status === 'scheduled').length;\n    stats.inProgress = bookingsForStats.filter((b) => b.status === 'in_progress').length;\n    stats.completed = bookingsForStats.filter((b) => b.status === 'completed').length;\n    stats.totalEarnings = bookingsForStats\n      .filter((b) => b.status === 'completed')\n      .reduce((sum, b) => sum + (b.total_amount || b.service?.price || 0), 0);\n\n    // Get today's bookings (use appropriate bookings list)\n    const bookingsForToday = mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings;\n    todaysBookings = filterBookingsByDateRange(bookingsForToday, 'today');\n\n    // Get earnings data for chart (last 7 days)\n    const bookingsForEarnings = mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings;\n    const completedBookings = bookingsForEarnings.filter((b) => b.status === 'completed');\n    const earningsByDate: Record<string, number> = {};\n    \n    completedBookings.forEach((booking) => {\n      const date = booking.completed_at || booking.scheduled_date || booking.created_at;\n      if (date) {\n        const dateKey = new Date(date).toISOString().split('T')[0];\n        const amount = booking.service?.price || booking.total_amount || 0;\n        earningsByDate[dateKey] = (earningsByDate[dateKey] || 0) + amount;\n      }\n    });\n\n    // Generate last 7 days of earnings data\n    const today = new Date();\n    for (let i = 6; i >= 0; i--) {\n      const date = new Date(today);\n      date.setDate(date.getDate() - i);\n      const dateKey = date.toISOString().split('T')[0];\n      earningsData.push({\n        date: dateKey,\n        amount: earningsByDate[dateKey] || 0,\n      });\n    }\n\n    // Get rating and review count\n    rating = detailerData.rating || 0;\n    reviewCount = detailerData.review_count || 0;\n  }\n\n  // Build stats cards based on mode\n  const statsCards = mode === 'organization' && orgRole && ['owner', 'manager'].includes(orgRole)\n    ? [\n        { label: 'Total Jobs', value: orgStats.totalJobs, color: 'default' as const },\n        { label: 'Active Detailers', value: orgStats.activeDetailers, color: 'default' as const },\n        { label: 'Teams', value: orgStats.teams, color: 'default' as const },\n        { label: 'Total Revenue', value: formatCurrency(orgStats.totalRevenue), color: 'success' as const },\n      ]\n    : [\n        { label: 'Upcoming', value: stats.upcoming, color: 'default' as const },\n        { label: 'In Progress', value: stats.inProgress, color: 'default' as const },\n        { label: 'Completed', value: stats.completed, color: 'default' as const },\n        { label: 'Total Earnings', value: formatCurrency(stats.totalEarnings), color: 'success' as const },\n      ];\n\n  return (\n    <div className=\"min-h-screen bg-[#050B12] text-white\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        <div className=\"mb-8\">\n          <h1 className=\"text-3xl font-bold text-white mb-2\">Dashboard</h1>\n          <p className=\"text-[#C6CFD9]\">Welcome back, {profile.full_name}</p>\n        </div>\n\n        {/* Stats Grid */}\n        <StatsGrid stats={statsCards} />\n\n        {/* Issues/Alerts Section (Org Mode Only) */}\n        {mode === 'organization' && issues.length > 0 && (\n          <div className=\"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-6 mb-8\">\n            <h2 className=\"text-xl font-semibold text-yellow-400 mb-4\">⚠️ Issues That Need Attention</h2>\n            <div className=\"space-y-2\">\n              {issues.map((issue, idx) => (\n                <div key={idx} className=\"flex items-center justify-between p-3 bg-[#050B12] rounded-lg\">\n                  <div>\n                    <span className=\"text-yellow-400 font-medium\">{issue.type === 'unassigned' ? 'Unassigned' : 'Late'}</span>\n                    <span className=\"text-[#C6CFD9] ml-2\">{issue.message}</span>\n                  </div>\n                  {issue.bookingId && (\n                    <Link\n                      href={`/detailer/bookings/${issue.bookingId}`}\n                      className=\"text-[#32CE7A] hover:text-[#6FF0C4] text-sm font-medium\"\n                    >\n                      View →\n                    </Link>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Earnings and Rating Row */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8 mt-8\">\n          {/* Earnings Chart */}\n          <div className=\"lg:col-span-2 bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n            <h2 className=\"text-xl font-semibold text-white mb-4\">Earnings (Last 7 Days)</h2>\n            <EarningsChart data={earningsData} period=\"day\" />\n          </div>\n\n          {/* Rating Summary */}\n          <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n            <h2 className=\"text-xl font-semibold text-white mb-4\">Rating</h2>\n            <div className=\"flex items-center gap-2 mb-2\">\n              <span className=\"text-4xl font-bold text-[#32CE7A]\">{rating.toFixed(1)}</span>\n              <div className=\"flex gap-1\">\n                {[...Array(5)].map((_, i) => (\n                  <span\n                    key={i}\n                    className={`text-2xl ${\n                      i < Math.round(rating) ? 'text-yellow-400' : 'text-[#C6CFD9]'\n                    }`}\n                  >\n                    ★\n                  </span>\n                ))}\n              </div>\n            </div>\n            <p className=\"text-sm text-[#C6CFD9] mb-4\">{reviewCount} reviews</p>\n            <Link\n              href=\"/detailer/reviews\"\n              className=\"text-[#32CE7A] hover:text-[#6FF0C4] text-sm font-medium\"\n            >\n              View all reviews →\n            </Link>\n          </div>\n        </div>\n\n        {/* Today's Jobs */}\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6 mb-8\">\n          <h2 className=\"text-xl font-semibold text-white mb-4\">Today's Jobs</h2>\n          <TodaysJobsList bookings={todaysBookings} />\n        </div>\n\n        {/* Calendar View */}\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6 mb-8\">\n          <h2 className=\"text-xl font-semibold text-white mb-4\">\n            {mode === 'organization' ? 'Organization Calendar' : 'Calendar'}\n          </h2>\n          <CalendarView bookings={mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings} />\n        </div>\n\n        {/* Upcoming Bookings List */}\n        <div className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\">\n          <h2 className=\"text-xl font-semibold text-white mb-4\">\n            {mode === 'organization' ? 'All Bookings' : 'Upcoming Bookings'}\n          </h2>\n          {(mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings).length === 0 ? (\n            <p className=\"text-[#C6CFD9]\">\n              {mode === 'organization' ? 'No bookings found' : 'No upcoming bookings in your availability window'}\n            </p>\n          ) : (\n            <div className=\"space-y-4\">\n              {(mode === 'organization' && orgBookings.length > 0 ? orgBookings : filteredBookings).slice(0, 10).map((booking) => (\n                <Link\n                  key={booking.id}\n                  href={`/detailer/bookings/${booking.id}`}\n                  className=\"block bg-[#050B12] border border-white/5 rounded-lg p-4 hover:border-[#6FF0C4]/20 transition-colors\"\n                >\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <div className=\"font-semibold text-white\">\n                        {booking.car?.make} {booking.car?.model} {booking.car?.year}\n                      </div>\n                      <div className=\"text-sm text-[#C6CFD9] mt-1\">\n                        {booking.service?.name} - {booking.user?.full_name}\n                        {mode === 'organization' && booking.detailer && (\n                          <span className=\"ml-2 text-[#32CE7A]\">• {booking.detailer.full_name}</span>\n                        )}\n                      </div>\n                      <div className=\"text-sm text-[#C6CFD9] mt-1\">\n                        {booking.scheduled_date && booking.scheduled_time_start\n                          ? `${new Date(booking.scheduled_date).toLocaleDateString()} at ${booking.scheduled_time_start.substring(0, 5)}`\n                          : booking.scheduled_start\n                          ? new Date(booking.scheduled_start).toLocaleString()\n                          : 'Date TBD'}\n                      </div>\n                    </div>\n                    <div className=\"text-right\">\n                      <div className=\"text-white font-semibold\">${booking.service?.price || booking.total_amount || 0}</div>\n                      <div className=\"text-xs text-[#C6CFD9] mt-1 capitalize\">{booking.status}</div>\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n","interface StatCard {\n  label: string;\n  value: string | number;\n  subtitle?: string;\n  color?: 'default' | 'success' | 'warning';\n}\n\ninterface StatsGridProps {\n  stats: StatCard[];\n}\n\nexport default function StatsGrid({ stats }: StatsGridProps) {\n  const getColorClasses = (color: StatCard['color']) => {\n    switch (color) {\n      case 'success':\n        return 'text-[#32CE7A]';\n      case 'warning':\n        return 'text-yellow-400';\n      default:\n        return 'text-white';\n    }\n  };\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n      {stats.map((stat, index) => (\n        <div\n          key={index}\n          className=\"bg-[#0A1A2F] border border-white/5 rounded-xl p-6\"\n        >\n          <div className=\"text-[#C6CFD9] text-sm mb-2\">{stat.label}</div>\n          <div className={`text-3xl font-bold ${getColorClasses(stat.color)}`}>\n            {stat.value}\n          </div>\n          {stat.subtitle && (\n            <div className=\"text-xs text-[#C6CFD9] mt-1\">{stat.subtitle}</div>\n          )}\n        </div>\n      ))}\n    </div>\n  );\n}\n\n","// Utility functions for Detailer Dashboard\n\n/**\n * Format a number as currency\n */\nexport function formatCurrency(amount: number | string): string {\n  const num = typeof amount === 'string' ? parseFloat(amount) : amount;\n  if (isNaN(num)) return '$0.00';\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  }).format(num);\n}\n\n/**\n * Format a date string to a readable format\n */\nexport function formatDate(date: string | Date, format: 'short' | 'long' | 'time' = 'short'): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  \n  if (format === 'time') {\n    return d.toLocaleTimeString('en-US', { \n      hour: 'numeric', \n      minute: '2-digit',\n      hour12: true \n    });\n  }\n  \n  if (format === 'long') {\n    return d.toLocaleDateString('en-US', {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: 'numeric',\n      minute: '2-digit',\n      hour12: true,\n    });\n  }\n  \n  return d.toLocaleDateString('en-US', {\n    month: 'short',\n    day: 'numeric',\n    year: 'numeric',\n  });\n}\n\n/**\n * Format a date and time together\n */\nexport function formatDateTime(date: string, time: string): string {\n  const dateObj = new Date(`${date}T${time}`);\n  return formatDate(dateObj, 'long');\n}\n\n/**\n * Calculate total earnings from bookings\n */\nexport function calculateEarnings(bookings: Array<{ total_amount?: number; service_price?: number }>): number {\n  return bookings.reduce((sum, booking) => {\n    const amount = booking.total_amount || booking.service_price || 0;\n    return sum + (typeof amount === 'string' ? parseFloat(amount) : amount);\n  }, 0);\n}\n\n/**\n * Calculate distance between two coordinates (Haversine formula)\n * Returns distance in kilometers\n */\nexport function calculateDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Radius of the Earth in kilometers\n  const dLat = toRad(lat2 - lat1);\n  const dLon = toRad(lon2 - lon1);\n  \n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRad(lat1)) *\n      Math.cos(toRad(lat2)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  \n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  const distance = R * c;\n  \n  return Math.round(distance * 10) / 10; // Round to 1 decimal place\n}\n\n/**\n * Convert degrees to radians\n */\nfunction toRad(degrees: number): number {\n  return degrees * (Math.PI / 180);\n}\n\n/**\n * Format distance with unit\n */\nexport function formatDistance(km: number): string {\n  if (km < 1) {\n    return `${Math.round(km * 1000)}m`;\n  }\n  return `${km}km`;\n}\n\n/**\n * Get status color class\n */\nexport function getStatusColor(status: string): string {\n  switch (status) {\n    case 'accepted':\n      return 'bg-[#1DA4F3]/20 border-[#1DA4F3]/40 text-[#1DA4F3]';\n    case 'in_progress':\n      return 'bg-[#6FF0C4]/20 border-[#6FF0C4]/40 text-[#6FF0C4]';\n    case 'completed':\n      return 'bg-[#32CE7A]/20 border-[#32CE7A]/40 text-[#32CE7A]';\n    case 'cancelled':\n    case 'no_show':\n      return 'bg-red-500/20 border-red-500/40 text-red-400';\n    case 'paid':\n    case 'offered':\n      return 'bg-yellow-500/20 border-yellow-500/40 text-yellow-400';\n    default:\n      return 'bg-[#C6CFD9]/20 border-[#C6CFD9]/40 text-[#C6CFD9]';\n  }\n}\n\n/**\n * Get payment status color class\n */\nexport function getPaymentStatusColor(status: string): string {\n  switch (status) {\n    case 'paid':\n      return 'text-[#32CE7A]';\n    case 'processing':\n      return 'text-yellow-400';\n    case 'failed':\n    case 'refunded':\n      return 'text-red-400';\n    default:\n      return 'text-[#C6CFD9]';\n  }\n}\n\n/**\n * Filter bookings by date range\n */\nexport function filterBookingsByDateRange(\n  bookings: Array<{ scheduled_date?: string; scheduled_start?: string }>,\n  range: 'today' | 'tomorrow' | 'this_week' | 'this_month' | 'all'\n): Array<any> {\n  if (range === 'all') return bookings;\n  \n  const now = new Date();\n  const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n  \n  return bookings.filter((booking) => {\n    const bookingDate = booking.scheduled_date \n      ? new Date(booking.scheduled_date)\n      : booking.scheduled_start \n      ? new Date(booking.scheduled_start)\n      : null;\n    \n    if (!bookingDate) return false;\n    \n    const bookingDateOnly = new Date(\n      bookingDate.getFullYear(),\n      bookingDate.getMonth(),\n      bookingDate.getDate()\n    );\n    \n    switch (range) {\n      case 'today':\n        return bookingDateOnly.getTime() === today.getTime();\n      \n      case 'tomorrow':\n        const tomorrow = new Date(today);\n        tomorrow.setDate(tomorrow.getDate() + 1);\n        return bookingDateOnly.getTime() === tomorrow.getTime();\n      \n      case 'this_week':\n        const weekStart = new Date(today);\n        weekStart.setDate(today.getDate() - today.getDay());\n        const weekEnd = new Date(weekStart);\n        weekEnd.setDate(weekStart.getDate() + 6);\n        return bookingDate >= weekStart && bookingDate <= weekEnd;\n      \n      case 'this_month':\n        return (\n          bookingDate.getMonth() === today.getMonth() &&\n          bookingDate.getFullYear() === today.getFullYear()\n        );\n      \n      default:\n        return true;\n    }\n  });\n}\n\n/**\n * Sort bookings\n */\nexport function sortBookings(\n  bookings: Array<any>,\n  sortBy: 'time' | 'distance' | 'price' | 'rating' | 'assignment'\n): Array<any> {\n  const sorted = [...bookings];\n  \n  switch (sortBy) {\n    case 'time':\n      return sorted.sort((a, b) => {\n        const dateA = a.scheduled_date || a.scheduled_start || '';\n        const dateB = b.scheduled_date || b.scheduled_start || '';\n        return new Date(dateA).getTime() - new Date(dateB).getTime();\n      });\n    \n    case 'price':\n      return sorted.sort((a, b) => {\n        const priceA = a.total_amount || a.service_price || 0;\n        const priceB = b.total_amount || b.service_price || 0;\n        return priceB - priceA;\n      });\n    \n    case 'distance':\n      // This would require current location\n      return sorted;\n    \n    case 'rating':\n      // This would require customer rating\n      return sorted;\n    \n    case 'assignment':\n      return sorted.sort((a, b) => {\n        const dateA = new Date(a.created_at || 0).getTime();\n        const dateB = new Date(b.created_at || 0).getTime();\n        return dateB - dateA;\n      });\n    \n    default:\n      return sorted;\n  }\n}\n\n","import { getStatusColor } from '@/lib/detailer/dashboard-utils';\n\ninterface StatusBadgeProps {\n  status: string;\n  className?: string;\n}\n\nexport default function StatusBadge({ status, className = '' }: StatusBadgeProps) {\n  const colorClass = getStatusColor(status);\n  \n  return (\n    <span\n      className={`px-2 py-1 text-xs font-medium rounded-full border ${colorClass} ${className}`}\n    >\n      {status.replace('_', ' ')}\n    </span>\n  );\n}\n\n","import Link from 'next/link';\nimport { formatDateTime } from '@/lib/detailer/dashboard-utils';\nimport StatusBadge from '@/components/ui/StatusBadge';\nimport type { Booking } from '@/types/detailer';\n\ninterface TodaysJobsListProps {\n  bookings: Booking[];\n}\n\nexport default function TodaysJobsList({ bookings }: TodaysJobsListProps) {\n  if (bookings.length === 0) {\n    return (\n      <div className=\"text-center py-8 text-[#C6CFD9]\">\n        No jobs scheduled for today\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-3\">\n      {bookings.slice(0, 10).map((booking) => (\n        <Link\n          key={booking.id}\n          href={`/detailer/bookings/${booking.id}`}\n          className=\"block bg-[#050B12] border border-white/5 rounded-lg p-4 hover:border-[#6FF0C4]/20 transition-colors\"\n        >\n          <div className=\"flex justify-between items-start\">\n            <div className=\"flex-1\">\n              <div className=\"font-semibold text-white mb-1\">\n                {booking.car?.make} {booking.car?.model} {booking.car?.year}\n              </div>\n              <div className=\"text-sm text-[#C6CFD9] mb-2\">\n                {booking.service?.name} - {booking.user?.full_name}\n              </div>\n              <div className=\"text-sm text-[#C6CFD9]\">\n                {booking.scheduled_date && booking.scheduled_time_start\n                  ? formatDateTime(booking.scheduled_date, booking.scheduled_time_start)\n                  : booking.scheduled_start\n                  ? new Date(booking.scheduled_start).toLocaleString()\n                  : 'Time TBD'}\n              </div>\n              {booking.address_line1 && (\n                <div className=\"text-xs text-[#C6CFD9] mt-1\">\n                  {booking.address_line1}, {booking.city}\n                </div>\n              )}\n            </div>\n            <div className=\"text-right ml-4\">\n              <div className=\"text-white font-semibold mb-2\">\n                ${booking.service?.price || booking.total_amount || 0}\n              </div>\n              <StatusBadge status={booking.status} />\n            </div>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0,1]}